<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Sakupinera" href="http://sakupinera.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Sakupinera" href="http://sakupinera.github.io/atom.xml"><link rel="alternate" type="application/json" title="Sakupinera" href="http://sakupinera.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="读书笔记,C++"><link rel="canonical" href="http://sakupinera.github.io/2022/12/10/cpp/cpp-primer/Chapter%202%20Variables%20and%20Basic%20Types/"><title>C++ Primer - Chapter 2 Variables and Basic Types - Cpp-Primer - Cpp | Hanamai Sora = Sakupinera</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">C++ Primer - Chapter 2 Variables and Basic Types</h1><div class="meta"><span class="item" title="Created: 2022-12-10 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2022-12-10T00:00:00+08:00">2022-12-10</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>15k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>14 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Hanamai Sora</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s2.loli.net/2023/03/08/W1a6ViLoBQPTj2C.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/Rft6Y9pgTV5E17J.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/qSxQEJk41eog52I.png"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/OQq9sc7VlKfnvGL.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/5rFIQnpK6fEoLOU.png"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/DFUCvo21fTb5mwG.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Cpp/" itemprop="item" rel="index" title="In Cpp"><span itemprop="name">Cpp</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Cpp/Cpp-Primer/" itemprop="item" rel="index" title="In Cpp-Primer"><span itemprop="name">Cpp-Primer</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="http://sakupinera.github.io/2022/12/10/cpp/cpp-primer/Chapter%202%20Variables%20and%20Basic%20Types/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Sakupinera"><meta itemprop="description" content=", 保持你的决心！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sakupinera"></span><div class="body md" itemprop="articleBody"><h1 id="chapter-2-variables-and-basic-types"><a class="anchor" href="#chapter-2-variables-and-basic-types">#</a> Chapter 2 Variables and Basic Types</h1><h2 id="primitive-built-in-types"><a class="anchor" href="#primitive-built-in-types">#</a> Primitive Built-in Types</h2><blockquote><p>C++ defines a set of primitive types that include the arithmetic types and a special type named void. The arithmetic types represent characters, integers, boolean values, and floating-point numbers. The void type has no associated values and can be used in only a few circumstances, most commonly as the return type for functions that do not return a value.</p></blockquote><hr><p>任何常用的编程语言都具备一组公共的语法特征，最基本的特征包括：</p><ul><li>整型、字符型等内置类型</li><li>变量，用来为对象命名</li><li>表达式和语句，用于操作上述数据类型的具体值</li><li>if 或 while 等控制结构，有选择地执行一些语句或重复地执行一些语句</li><li>函数，用于定义可供随时调用的计算单元</li></ul><p>大多数编程语言通过两种方式来进一步补充其基本特征：</p><ul><li>自定义数据类型，实现对语言的扩展</li><li>将一些有用的功能封装成库函数</li></ul><h3 id="基本内置类型"><a class="anchor" href="#基本内置类型">#</a> 基本内置类型</h3><p><strong>基本算数类型</strong>：</p><table><thead><tr><th>类型</th><th>含义</th><th>最小尺寸</th></tr></thead><tbody><tr><td><code>bool</code></td><td>布尔类型</td><td>8bits</td></tr><tr><td><code>char</code></td><td>字符</td><td>8bits</td></tr><tr><td><code>wchar_t</code></td><td>宽字符</td><td>16bits</td></tr><tr><td><code>char16_t</code></td><td>Unicode 字符</td><td>16bits</td></tr><tr><td><code>char32_t</code></td><td>Unicode 字符</td><td>32bits</td></tr><tr><td><code>short</code></td><td>短整型</td><td>16bits</td></tr><tr><td><code>int</code></td><td>整型</td><td>16bits (在 32 位机器中是 32bits)</td></tr><tr><td><code>long</code></td><td>长整型</td><td>32bits</td></tr><tr><td><code>long long</code></td><td>长整型</td><td>64bits （是在 C++11 中新定义的）</td></tr><tr><td><code>float</code></td><td>单精度浮点数</td><td>6 位有效数字</td></tr><tr><td><code>double</code></td><td>双精度浮点数</td><td>10 位有效数字</td></tr><tr><td><code>long double</code></td><td>扩展精度浮点数</td><td>10 位有效数字</td></tr></tbody></table><h3 id="如何选择类型"><a class="anchor" href="#如何选择类型">#</a> 如何选择类型</h3><ul><li>1. 当明确知晓数值不可能是负数时，选用无符号类型；</li><li>2. 使用 <code>int</code> 执行整数运算。一般 <code>long</code> 的大小和 <code>int</code> 一样，而 <code>short</code> 常常显得太小。除非超过了 <code>int</code> 的范围，选择 <code>long long</code> 。</li><li>3. 算术表达式中不要使用 <code>char</code> 或 <code>bool</code> 。</li><li>4. 浮点运算选用 <code>double</code> 。</li></ul><h3 id="类型转换"><a class="anchor" href="#类型转换">#</a> 类型转换</h3><ul><li>非布尔型赋给布尔型，初始值为 0 则结果为 false，否则为 true。</li><li>布尔型赋给非布尔型，初始值为 false 结果为 0，初始值为 true 结果为 1。</li></ul><h3 id="字面值常量"><a class="anchor" href="#字面值常量">#</a> 字面值常量</h3><ul><li><p>一个形如 <code>42</code> 的值被称作<strong>字面值常量</strong>（literal）。</p><ul><li><p>整型和浮点型字面值。</p></li><li><p>字符和字符串字面值。</p><ul><li><p>使用空格连接，继承自 C。</p></li><li><p>字符字面值：单引号， <code>'a'</code></p></li><li><p>字符串字面值：双引号， <code>&quot;Hello World&quot;</code></p></li><li><p>分多行书写字符串。</p><pre><code class="language-c++">std:cout&lt;&lt;&quot;wow, a really, really long string&quot;
          &quot;literal that spans two lines&quot; &lt;&lt;std::endl;
</code></pre></li></ul></li><li><p>转义序列。 <code>\n</code> 、 <code>\t</code> 等。</p></li><li><p>布尔字面值。 <code>true</code> ， <code>false</code> 。</p></li><li><p>指针字面值。 <code>nullptr</code></p></li></ul></li></ul><blockquote><p>字符串型实际上时常量字符构成的数组，结尾处以 <code>'\0'</code> 结束，所以字符串类型实际上长度比内容多 1。</p></blockquote><hr><h3 id="exercise-21"><a class="anchor" href="#exercise-21">#</a> Exercise 2.1</h3><p>类型 int、long、long long 和 short 的区别是什么？无符号类型和带符号类型的区别是什么？float 和 double 的区别是什么？</p><p>解：</p><p>C++ 规定 short 和 int 至少 16 位，long 至少 32 位，long long 至少 64 位。 带符号类型能够表示正数、负数和 0 ，而无符号类型只能够表示 0 和正整数。float 和 double 分别是单精度浮点数和双精度浮点数，区别主要是在内存中所占的比特数不同，以及默认规定的有效位数不同。</p><h3 id="exercise-22"><a class="anchor" href="#exercise-22">#</a> Exercise 2.2</h3><p>计算按揭贷款时，对于利率、本金和付款分别应选择何种数据类型？说明你的理由。</p><p>解：</p><p>使用 <code>double</code> 。在三种可供选择的浮点类型 float、double 和 long double 中，double 和 float 的计算代价比较接近且表示范围更广，long double 的计算代价则相对较大，一般情况下没有选择的必要。</p><h3 id="exercise-23"><a class="anchor" href="#exercise-23">#</a> Exercise 2.3</h3><p>读程序写结果。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">unsigned</span> u <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> u2 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> u2 <span class="token operator">-</span> u <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> u <span class="token operator">-</span> u2 <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> i2 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i2 <span class="token operator">-</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">-</span> i2 <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">-</span> u <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> u <span class="token operator">-</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>输出：</p><pre><code>32
4294967264
32
-32
0
0
</code></pre><h3 id="exercise-24"><a class="anchor" href="#exercise-24">#</a> Exercise 2.4</h3><p>编写程序检查你的估计是否正确，如果不正确，请仔细研读本节直到弄明白问题所在。</p><h3 id="exercise-25"><a class="anchor" href="#exercise-25">#</a> Exercise 2.5</h3><p>指出下述字面值的数据类型并说明每一组内几种字面值的区别：</p><pre><code>(a) 'a', L'a', &quot;a&quot;, L&quot;a&quot;
(b) 10, 10u, 10L, 10uL, 012, 0xC
(c) 3.14, 3.14f, 3.14L
(d) 10, 10u, 10., 10e-2
</code></pre><p>解：</p><ul><li>(a): 字符字面值，宽字符字面值，字符串字面值，宽字符串字面值。</li><li>(b): 十进制整型，十进制无符号整型，十进制长整型，十进制无符号长整型， 八进制整型，十六进制整型。</li><li>(c): double, float, long double</li><li>(d): 十进制整型，十进制无符号整型，double, double</li></ul><h3 id="exercise-26"><a class="anchor" href="#exercise-26">#</a> Exercise 2.6</h3><p>下面两组定义是否有区别，如果有，请叙述之：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> day <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">09</span><span class="token punctuation">,</span> day <span class="token operator">=</span> <span class="token number">07</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>第一行定义的是十进制的整型，第二行定义的是八进制的整型。但是 month 变量有误，八进制不能直接写 9。</p><h3 id="exercise-27"><a class="anchor" href="#exercise-27">#</a> Exercise 2.7</h3><p>下述字面值表示何种含义？它们各自的数据类型是什么？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token string">"Who goes with F\145rgus?\012"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token number">3.14e1L</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1024f</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token number">3.14L</span></pre></td></tr></table></figure><p>解：</p><ul><li>(a) Who goes with Fergus?(换行)，string 类型</li><li>(b) long double</li><li>(c) 无效，因为后缀 <code>f</code> 只能用于浮点字面量，而 1024 是整型。</li><li>(d) long double</li></ul><h3 id="exercise-28"><a class="anchor" href="#exercise-28">#</a> Exercise 2.8</h3><p>请利用转义序列编写一段程序，要求先输出 2M，然后转到新一行。修改程序使其先输出 2，然后输出制表符，再输出 M，最后转到新一行。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token number">2</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\115\012"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token number">2</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\t\115\012"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="variables"><a class="anchor" href="#variables">#</a> Variables</h2><blockquote><p>A simple variable definition consists of a type specifier, followed by a list of one or more variable names separated by commas, and ends with a semicolon. Each name in the list has the type defined by the type specifier. A definition may (optionally) provide an initial value for one or more of the names it defines.</p></blockquote><hr><h3 id="变量"><a class="anchor" href="#变量">#</a> 变量</h3><p><strong>变量</strong>提供一个<strong>具名</strong>的、可供程序操作的存储空间。 <code>C++</code> 中<strong>变量</strong>和<strong>对象</strong>一般可以互换使用。</p><h4 id="变量定义define"><a class="anchor" href="#变量定义define">#</a> 变量定义（define）</h4><ul><li><strong>定义形式</strong>：类型说明符（type specifier） + 一个或多个变量名组成的列表。如 <code>int sum = 0, value, units_sold = 0;</code></li><li><strong>初始化</strong>（initialize）：对象在创建时获得了一个特定的值。<ul><li><strong>初始化不是赋值！</strong>：</li><li>初始化 = 创建变量 + 赋予初始值</li><li>赋值 = 擦除对象的当前值 + 用新值代替</li><li><strong>列表初始化</strong>：使用花括号 <code>&#123;&#125;</code> ，如 <code>int units_sold&#123;0&#125;;</code></li><li>默认初始化：定义时没有指定初始值会被默认初始化；<strong>在函数体内部的内置类型变量将不会被初始化</strong>。</li><li>建议初始化每一个内置类型的变量。</li></ul></li></ul><h4 id="变量的声明declaration-vs-定义define"><a class="anchor" href="#变量的声明declaration-vs-定义define">#</a> 变量的<strong>声明</strong>（declaration） vs <strong>定义</strong>（define）</h4><ul><li>为了支持分离式编译， <code>C++</code> 将声明和定义区分开。<strong>声明</strong>使得名字为程序所知。<strong>定义</strong>负责创建与名字关联的实体。</li><li><strong>extern</strong>：只是说明变量定义在其他地方。</li><li>只声明而不定义： 在变量名前添加关键字 <code>extern</code> ，如 <code>extern int i;</code> 。但如果包含了初始值，就变成了定义： <code>extern double pi = 3.14;</code></li><li>变量只能被定义一次，但是可以多次声明。定义只出现在一个文件中，其他文件使用该变量时需要对其声明。</li><li>名字的<strong>作用域</strong>（namescope） <code>&#123;&#125;</code><ul><li><strong>第一次使用变量时再定义它</strong>。</li><li>嵌套的作用域<ul><li>同时存在全局和局部变量时，已定义局部变量的作用域中可用 <code>::reused</code> 显式访问全局变量 reused。</li><li><strong>但是用到全局变量时，尽量不适用重名的局部变量。</strong></li></ul></li></ul></li></ul><h4 id="变量命名规范"><a class="anchor" href="#变量命名规范">#</a> 变量命名规范</h4><ol><li>需体现实际意义</li><li>变量名用小写字母</li><li>自定义类名用大写字母开头：Sales_item</li><li>标识符由多个单词组成，中间须有明确区分：student_loan 或 studentLoan，不要用 studentloan。</li></ol><hr><h3 id="exercise-29"><a class="anchor" href="#exercise-29">#</a> Exercise 2.9</h3><p>解释下列定义的含义，对于非法的定义，请说明错在何处并将其改正。</p><ul><li>(a) std::cin &gt;&gt; int input_value;</li><li>(b) int i = { 3.14 };</li><li>(c) double salary = wage = 9999.99;</li><li>(d) int i = 3.14;</li></ul><p>解：</p><p>(a): 应该先定义再使用。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> input_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> input_value<span class="token punctuation">;</span></pre></td></tr></table></figure><p>(b): 用列表初始化内置类型的变量时，如果存在丢失信息的风险，则编译器将报错。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">double</span> i <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">3.14</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>(c): 在这里 <code>wage</code> 是未定义的，应该在此之前将其定义。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">double</span> wage<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">double</span> salary <span class="token operator">=</span> wage <span class="token operator">=</span> <span class="token number">9999.99</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>(d): 不报错，但是小数部分会被截断。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">double</span> i <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="exercise-210"><a class="anchor" href="#exercise-210">#</a> Exercise 2.10</h3><p>下列变量的初值分别是什么？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>std<span class="token double-colon punctuation">::</span>string global_str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> global_int<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> local_int<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    std<span class="token double-colon punctuation">::</span>string local_str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>解：</p><p><code>global_str</code> 和 <code>global_int</code> 是全局变量，所以初值分别为空字符串和 0。<br><code>local_int</code> 是局部变量并且没有初始化，它的初值是未定义的。<br><code>local_str</code> 是 <code>string</code> 类的对象，它的值由类确定，为空字符串。</p><h3 id="exercise-211"><a class="anchor" href="#exercise-211">#</a> Exercise 2.11</h3><p>指出下面的语句是声明还是定义：</p><ul><li>(a) extern int ix = 1024;</li><li>(b) int iy;</li><li>(c) extern int iz;</li></ul><p>解：</p><p>(a): 定义<br>(b): 定义<br>(c): 声明</p><h3 id="exercise-212"><a class="anchor" href="#exercise-212">#</a> Exercise 2.12</h3><p>请指出下面的名字中哪些是非法的？</p><ul><li>(a) int double = 3.14;</li><li>(b) int _;</li><li>(c) int catch-22;</li><li>(d) int 1_or_2 = 1;</li><li>(e) double Double = 3.14;</li></ul><p>解：</p><p>(a), (c), (d) 非法。</p><h3 id="exercise-213"><a class="anchor" href="#exercise-213">#</a> Exercise 2.13</h3><p>下面程序中 <code>j</code> 的值是多少？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>解：</p><p><code>j</code> 的值是 100，局部变量 <code>i</code> 覆盖了全局变量 <code>i</code> 。</p><h3 id="exercise-214"><a class="anchor" href="#exercise-214">#</a> Exercise 2.14</h3><p>下面的程序合法吗？如果合法，它将输出什么？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>合法。输出是 100 45 。</p><h2 id="compound-types"><a class="anchor" href="#compound-types">#</a> Compound Types</h2><hr><h3 id="左值和右值"><a class="anchor" href="#左值和右值">#</a> 左值和右值</h3><ul><li><strong>左值</strong>（l-value）<strong>可以</strong>出现在赋值语句的左边或者右边，比如变量；</li><li><strong>右值</strong>（r-value）<strong>只能</strong>出现在赋值语句的右边，比如常量。</li></ul><h3 id="复合类型"><a class="anchor" href="#复合类型">#</a> 复合类型</h3><h4 id="引用"><a class="anchor" href="#引用">#</a> 引用</h4><blockquote><p>一般说的引用是指的左值引用</p></blockquote><ul><li><strong>引用</strong>：引用是一个对象的别名，引用类型引用（refer to）另外一种类型。如 <code>int &amp;refVal = val;</code> 。</li><li>引用必须初始化。</li><li>引用和它的初始值是<strong>绑定 bind</strong> 在一起的，而<strong>不是拷贝</strong>。一旦定义就不能更改绑定为其他的对象</li></ul><h4 id="指针"><a class="anchor" href="#指针">#</a> 指针</h4><blockquote><p>int *p; //<strong> 指向 int 型对象</strong>的指针</p></blockquote><ul><li><p>是一种 <code>&quot;指向（point to）&quot;</code> 另外一种类型的复合类型。</p></li><li><p><strong>定义</strong>指针类型： <code>int *ip1;</code> ，<strong>从右向左读有助于阅读</strong>， <code>ip1</code> 是指向 <code>int</code> 类型的指针。</p></li><li><p>指针存放某个对象的<strong>地址</strong>。</p></li><li><p>获取对象的地址： <code>int i=42; int *p = &amp;i;</code> 。 <code>&amp;</code> 是<strong>取地址符</strong>。</p></li><li><p>指针的类型与所指向的对象类型必须一致（均为同一类型 int、double 等）</p></li><li><p>指针的值的四种状态：</p><ul><li><p>1. 指向一个对象；</p></li><li><p>2. 指向紧邻对象的下一个位置；</p></li><li><p>3. 空指针；</p></li><li><p>4. 无效指针。</p></li><li><blockquote><p><strong>对无效指针的操作均会引发错误，第二种和第三种虽为有效的，但理论上是不被允许的</strong></p></blockquote></li></ul></li><li><p>指针访问对象： <code>cout &lt;&lt; *p;</code> 输出 p 指针所指对象的数据， <code>*</code> 是<strong>解引用符</strong>。</p></li><li><p>空指针不指向任何对象。使用 <code>int *p=nullptr;</code> 来使用空指针。</p></li><li><blockquote><p>指针和引用的区别：引用本身并非一个对象，引用定义后就不能绑定到其他的对象了；指针并没有此限制，相当于变量一样使用。</p></blockquote></li><li><blockquote><p>赋值语句永远改变的是<strong>左侧</strong>的对象。</p></blockquote></li><li><p><code>void*</code> 指针可以存放<strong>任意</strong>对象的地址。因无类型，仅操作内存空间，对所存对象无法访问。</p></li><li><p>其他指针类型必须要与所指对象<strong>严格匹配</strong>。</p></li><li><p>两个指针相减的类型是 <code>ptrdiff_t</code> 。</p></li><li><p>建议：初始化所有指针。</p></li><li><p><code>int* p1, p2;//*是对p1的修饰，所以p2还是int型</code></p></li></ul><hr><h3 id="exercise-215"><a class="anchor" href="#exercise-215">#</a> Exercise 2.15</h3><p>下面的哪个定义是不合法的？为什么？</p><ul><li>(a) int ival = 1.01;</li><li>(b) int &amp;rval1 = 1.01;</li><li>(c) int &amp;rval2 = ival;</li><li>(d) int &amp;rval3;</li></ul><p>解：</p><p>(b) 和 (d) 不合法，(b) 引用必须绑定在对象上，(d) 引用必须初始化。</p><h3 id="exercise-216"><a class="anchor" href="#exercise-216">#</a> Exercise 2.16</h3><p>考察下面的所有赋值然后回答：哪些赋值是不合法的？为什么？哪些赋值是合法的？它们执行了哪些操作？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>r1 <span class="token operator">=</span> i<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>r2 <span class="token operator">=</span> d<span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li>(a) r2 = 3.14159;</li><li>(b) r2 = r1;</li><li>(c) i = r2;</li><li>(d) r1 = d;</li></ul><p>解：</p><ul><li>(a): 合法。给 d 赋值为 3.14159。</li><li>(b): 合法。会执行自动转换（int-&gt;double）。</li><li>(c): 合法。会发生小数截取。</li><li>(d): 合法。会发生小数截取。</li></ul><h3 id="exercise-217"><a class="anchor" href="#exercise-217">#</a> Exercise 2.17</h3><p>执行下面的代码段将输出什么结果？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ri <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> ri <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> ri <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>输出：10, 10</p><h3 id="exercise-218"><a class="anchor" href="#exercise-218">#</a> Exercise 2.18</h3><p>编写代码分别改变指针的值以及指针所指对象的值。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// change the value of a pointer.</span></pre></td></tr><tr><td data-num="5"></td><td><pre>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// change the value to which the pointer points</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token operator">*</span>p2 <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="exercise-219"><a class="anchor" href="#exercise-219">#</a> Exercise 2.19</h3><p>说明指针和引用的主要区别</p><p>解：</p><p>引用是另一个对象的别名，而指针本身就是一个对象。<br>引用必须初始化，并且一旦定义了引用就无法再绑定到其他对象。而指针无须在定义时赋初值，也可以重新赋值让其指向其他对象。</p><h3 id="exercise-220"><a class="anchor" href="#exercise-220">#</a> Exercise 2.20</h3><p>请叙述下面这段代码的作用。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">*</span>p1 <span class="token operator">*</span> <span class="token operator">*</span>p1<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>让指针 pi 指向 i，然后将 i 的值重新赋值为 42 * 42 (1764)。</p><h3 id="exercise-221"><a class="anchor" href="#exercise-221">#</a> Exercise 2.21</h3><p>请解释下述定义。在这些定义中有非法的吗？如果有，为什么？</p><p><code>int i = 0;</code></p><ul><li>(a) double* dp = &amp;i;</li><li>(b) int *ip = i;</li><li>(c) int *p = &amp;i;</li></ul><p>解：</p><ul><li>(a): 非法。不能将一个指向 <code>double</code> 的指针指向 <code>int</code> 。</li><li>(b): 非法。不能将 <code>int</code> 变量赋给指针。</li><li>(c): 合法。</li></ul><h3 id="exercise-222"><a class="anchor" href="#exercise-222">#</a> Exercise 2.22</h3><p>假设 p 是一个 int 型指针，请说明下述代码的含义。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment">// ...</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token comment">// ...</span></pre></td></tr></table></figure><p>解：</p><p>第一句判断 p 是不是一个空指针，<br>第二句判断 p 所指向的对象的值是不是为 0</p><h3 id="exercise-223"><a class="anchor" href="#exercise-223">#</a> Exercise 2.23</h3><p>给定指针 p，你能知道它是否指向了一个合法的对象吗？如果能，叙述判断的思路；如果不能，也请说明原因。</p><p>解：</p><p>不能，因为首先要确定这个指针是不是合法的，才能判断它所指向的对象是不是合法的。</p><h3 id="exercise-224"><a class="anchor" href="#exercise-224">#</a> Exercise 2.24</h3><p>在下面这段代码中为什么 p 合法而 lp 非法？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">long</span> <span class="token operator">*</span>lp <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p><code>void *</code> 是从 C 语言那里继承过来的，可以指向任何类型的对象。<br>而其他指针类型必须要与所指对象严格匹配。</p><h3 id="exercise-225"><a class="anchor" href="#exercise-225">#</a> Exercise 2.25</h3><p>说明下列变量的类型和值。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">int</span><span class="token operator">*</span> ip<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>ip <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token keyword">int</span><span class="token operator">*</span> ip<span class="token punctuation">,</span> ip2<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><ul><li>(a): ip 是一个指向 int 的指针，i 是一个 int, r 是 i 的引用。</li><li>(b): i 是 int , ip 是一个空指针。</li><li>(c): ip 是一个指向 int 的指针，ip2 是一个 int。</li></ul><h2 id="const-qualifier"><a class="anchor" href="#const-qualifier">#</a> const Qualifier</h2><hr><h3 id="const限定符"><a class="anchor" href="#const限定符">#</a> const 限定符</h3><ul><li>动机：希望定义一些不能被改变值的变量。</li></ul><h4 id="初始化和const"><a class="anchor" href="#初始化和const">#</a> 初始化和 const</h4><ul><li>const 对象<strong>必须初始化</strong>，且<strong>不能被改变</strong>。</li><li>const 变量默认不能被其他文件访问，非要访问，必须在指定 const 定义之前加 extern。要想在多个文件中使用 const 变量共享，定义和声明都加 const 关键字即可。</li></ul><h4 id="const的引用"><a class="anchor" href="#const的引用">#</a> const 的引用</h4><ul><li><strong>reference to const</strong>（对常量的引用）：指向 const 对象的引用，如 <code>const int ival=1; const int &amp;refVal = ival;</code> ，可以读取但不能修改 <code>refVal</code> 。</li><li><strong>临时量</strong>（temporary）对象：当编译器需要一个空间来暂存表达式的求值结果时，临时创建的一个未命名的对象。</li><li>对临时量的引用是非法行为。</li></ul><h4 id="指针和const"><a class="anchor" href="#指针和const">#</a> 指针和 const</h4><ul><li><strong>pointer to const</strong>（指向常量的指针）：不能用于改变其所指对象的值，如 <code>const double pi = 3.14; const double *cptr = &amp;pi;</code> 。</li><li><strong>const pointer</strong>：指针本身是常量，也就是说指针固定指向该对象，（存放在指针中的地址不变，地址所对应的那个对象值可以修改）如 <code>int i = 0; int *const ptr = &amp;i;</code></li></ul><h4 id="顶层const"><a class="anchor" href="#顶层const">#</a> 顶层 const</h4><ul><li><code>顶层const</code> ：指针本身是个常量。</li><li><code>底层const</code> ：指针指向的对象是个常量。拷贝时严格要求相同的底层 const 资格。</li></ul><h4 id="constexpr和常量表达式可选"><a class="anchor" href="#constexpr和常量表达式可选">#</a> <code>constexpr</code> 和常量表达式（▲可选）</h4><ul><li>常量表达式：指值不会改变，且在编译过程中就能得到计算结果的表达式。</li><li><code>C++11</code> 新标准规定，允许将变量声明为 <code>constexpr</code> 类型以便由编译器来验证变量的值是否是一个常量的表达式。</li></ul><hr><h3 id="exercise-226"><a class="anchor" href="#exercise-226">#</a> Exercise 2.26</h3><p>下面哪些语句是合法的？如果不合法，请说明为什么？</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> buf<span class="token punctuation">;</span>      <span class="token comment">// 不合法，const 对象必须初始化</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// 合法</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> sz <span class="token operator">=</span> cnt<span class="token punctuation">;</span> <span class="token comment">// 合法</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">++</span>cnt<span class="token punctuation">;</span> <span class="token operator">++</span>sz<span class="token punctuation">;</span>        <span class="token comment">// 不合法，const 对象不能被改变</span></pre></td></tr></table></figure><h3 id="exercise-227"><a class="anchor" href="#exercise-227">#</a> Exercise 2.27</h3><p>下面的哪些初始化是合法的？请说明原因。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>         <span class="token comment">// 不合法，r 必须引用一个对象</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>i2<span class="token punctuation">;</span>        <span class="token comment">// 合法，常量指针</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// 合法</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token operator">&amp;</span>i2<span class="token punctuation">;</span>  <span class="token comment">// 合法</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>i2<span class="token punctuation">;</span>        <span class="token comment">// 合法</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span><span class="token keyword">const</span> r2<span class="token punctuation">;</span>        <span class="token comment">// 不合法，r2 是引用，引用没有顶层 const</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> i2 <span class="token operator">=</span> i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> i<span class="token punctuation">;</span>   <span class="token comment">// 合法</span></pre></td></tr></table></figure><h3 id="exercise-228"><a class="anchor" href="#exercise-228">#</a> Exercise 2.28</h3><p>说明下面的这些定义是什么意思，挑出其中不合法的。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token keyword">const</span> cp<span class="token punctuation">;</span>       <span class="token comment">// 不合法，const 指针必须初始化</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span>p1<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token keyword">const</span> p2<span class="token punctuation">;</span>     <span class="token comment">// 不合法，const 指针必须初始化</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> ic<span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> ic<span class="token punctuation">;</span>  <span class="token comment">// 不合法，const int 必须初始化</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> p3<span class="token punctuation">;</span>    <span class="token comment">// 不合法，const 指针必须初始化</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>           <span class="token comment">// 合法。一个指针，指向 const int</span></pre></td></tr></table></figure><h3 id="exercise-229"><a class="anchor" href="#exercise-229">#</a> Exercise 2.29</h3><p>假设已有上一个练习中定义的那些变量，则下面的哪些语句是合法的？请说明原因。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>i <span class="token operator">=</span> ic<span class="token punctuation">;</span>     <span class="token comment">// 合法，常量赋值给普通变量</span></pre></td></tr><tr><td data-num="2"></td><td><pre>p1 <span class="token operator">=</span> p3<span class="token punctuation">;</span>    <span class="token comment">// 不合法，p3 是 const 指针不能赋值给普通指针</span></pre></td></tr><tr><td data-num="3"></td><td><pre>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>ic<span class="token punctuation">;</span>   <span class="token comment">// 不合法，普通指针不能指向常量</span></pre></td></tr><tr><td data-num="4"></td><td><pre>p3 <span class="token operator">=</span> <span class="token operator">&amp;</span>ic<span class="token punctuation">;</span>   <span class="token comment">// 合法，p3 是常量指针且指向常量</span></pre></td></tr><tr><td data-num="5"></td><td><pre>p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>    <span class="token comment">// 合法，可以将普通指针赋值给常量指针</span></pre></td></tr><tr><td data-num="6"></td><td><pre>ic <span class="token operator">=</span> <span class="token operator">*</span>p3<span class="token punctuation">;</span>   <span class="token comment">// 合法，对 p3 取值后是一个 int 然后赋值给 ic</span></pre></td></tr></table></figure><h3 id="exercise-230"><a class="anchor" href="#exercise-230">#</a> Exercise 2.30</h3><p>对于下面的这些语句，请说明对象被声明成了顶层 const 还是底层 const？</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> v2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">int</span> v1 <span class="token operator">=</span> v2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>v1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>r1 <span class="token operator">=</span> v1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>v2<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>r2 <span class="token operator">=</span> v2<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>v2 是顶层 const，p2 是底层 const，p3 既是顶层 const 又是底层 const，r2 是底层 const。</p><h3 id="exercise-231"><a class="anchor" href="#exercise-231">#</a> Exercise 2.31</h3><p>假设已有上一个练习中所做的那些声明，则下面的哪些语句是合法的？请说明顶层 const 和底层 const 在每个例子中有何体现。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>r1 <span class="token operator">=</span> v2<span class="token punctuation">;</span> <span class="token comment">// 合法，顶层 const 在拷贝时不受影响</span></pre></td></tr><tr><td data-num="2"></td><td><pre>p1 <span class="token operator">=</span> p2<span class="token punctuation">;</span> <span class="token comment">// 不合法，p2 是底层 const，如果要拷贝必须要求 p1 也是底层 const</span></pre></td></tr><tr><td data-num="3"></td><td><pre>p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span> <span class="token comment">// 合法，int* 可以转换成 const int*</span></pre></td></tr><tr><td data-num="4"></td><td><pre>p1 <span class="token operator">=</span> p3<span class="token punctuation">;</span> <span class="token comment">// 不合法，p3 是一个底层 const，p1 不是</span></pre></td></tr><tr><td data-num="5"></td><td><pre>p2 <span class="token operator">=</span> p3<span class="token punctuation">;</span> <span class="token comment">// 合法，p2 和 p3 都是底层 const，拷贝时忽略掉顶层 const</span></pre></td></tr></table></figure><h3 id="exercise-232"><a class="anchor" href="#exercise-232">#</a> Exercise 2.32</h3><p>下面的代码是否合法？如果非法，请设法将其修改正确。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> null <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> null<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>合法。指针可以初始化为 0 表示为空指针。</p><h2 id="dealing-with-types"><a class="anchor" href="#dealing-with-types">#</a> Dealing with Types</h2><hr><h3 id="处理类型"><a class="anchor" href="#处理类型">#</a> 处理类型</h3><h4 id="类型别名"><a class="anchor" href="#类型别名">#</a> 类型别名</h4><ul><li>传统别名：使用<strong> typedef</strong> 来定义类型的同义词。 <code>typedef double wages;</code></li><li>新标准别名：别名声明（alias declaration）： <code>using SI = Sales_item;</code> （C++11）</li></ul><pre><code class="language-c++">// 对于复合类型（指针等）不能代回原式来进行理解
typedef char *pstring;  // pstring是char*的别名
const pstring cstr = 0; // 指向char的常量指针
// 如改写为const char *cstr = 0;不正确，为指向const char的指针

// 辅助理解（可代回后加括号）
// const pstring cstr = 0;代回后const (char *) cstr = 0;
// const char *cstr = 0;即为(const char *) cstr = 0;
</code></pre><h4 id="auto类型说明符-c11"><a class="anchor" href="#auto类型说明符-c11">#</a> auto 类型说明符 c++11</h4><ul><li><strong>auto</strong> 类型说明符：让编译器<strong>自动推断类型</strong>。</li><li>一条声明语句只能有一个数据类型，所以一个 auto 声明多个变量时只能相同的变量类型 (包括复杂类型 &amp; 和 *)。 <code>auto sz = 0, pi =3.14//错误</code></li><li><code>int i = 0, &amp;r = i; auto a = r;</code> 推断 <code>a</code> 的类型是 <code>int</code> 。</li><li>会忽略 <code>顶层const</code> 。</li><li><code>const int ci = 1; const auto f = ci;</code> 推断类型是 <code>int</code> ，如果希望是顶层 const 需要自己加 <code>const</code></li></ul><p>auto 定义的变量必须有初始值。</p><p>使用 auto 也能在一条语句中声明多个变量。因为一条声明语句只能有一个基本数据类型，所以该语句中所有变量的初始基本数据类型类型都必须一样。</p><h4 id="复合类型-常量和auto"><a class="anchor" href="#复合类型-常量和auto">#</a> 复合类型、常量和 auto</h4><p>auto 一般会忽略掉顶层 const，同时底层 const 则会保留下来，比如当初始值是一个指向常量的指针时：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> ci <span class="token operator">=</span> i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>cr <span class="token operator">=</span> ci<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">auto</span> b <span class="token operator">=</span> ci<span class="token punctuation">;</span> <span class="token comment">// b is an int (top-level const in ci is dropped)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">auto</span> c <span class="token operator">=</span> cr<span class="token punctuation">;</span> <span class="token comment">// c is an int (cr is an alias for ci whose const is top-level)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">auto</span> d <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> <span class="token comment">// d is an int*(&amp; of an int object is int*)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">auto</span> e <span class="token operator">=</span> <span class="token operator">&amp;</span>ci<span class="token punctuation">;</span> <span class="token comment">// e is const int*(&amp; of a const object is low-level const)</span></pre></td></tr></table></figure><p>如果希望推断出的 auto 类型是一个顶层 const，需要明确指出：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">auto</span> f <span class="token operator">=</span> ci<span class="token punctuation">;</span> <span class="token comment">// deduced type of ci is int; f has type const int</span></pre></td></tr></table></figure><p>还可以将引用的类型设为 auto，此时原来的初始化规则仍然适用：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">auto</span> <span class="token operator">&amp;</span>g <span class="token operator">=</span> ci<span class="token punctuation">;</span> <span class="token comment">// g is a const int&amp; that is bound to ci</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">auto</span> <span class="token operator">&amp;</span>h <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// error: we can't bind a plain reference to a literal</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">auto</span> <span class="token operator">&amp;</span>j <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// ok: we can bind a const reference to a literal</span></pre></td></tr></table></figure><p>设置一个类型为 auto 的引用时，初始值中的顶层常量属性仍然保留。</p><h4 id="decltype类型指示符"><a class="anchor" href="#decltype类型指示符">#</a> decltype 类型指示符</h4><ul><li>从表达式的类型推断出要定义的变量的类型。</li><li><strong>decltype</strong>：选择并返回操作数的<strong>数据类型</strong>。</li><li><code>decltype(f()) sum = x;</code> 推断 <code>sum</code> 的类型是函数 <code>f</code> 的返回类型。</li><li>不会忽略 <code>顶层const</code> 。</li><li>如果对变量加括号，编译器会将其认为是一个表达式，如 int i--&gt;(i), 则 decltype ((i)) 得到结果为 int &amp; 引用。</li><li>赋值是会产生引用的一类典型表达式，引用的类型就是左值的类型。也就是说，如果 i 是 int，则表达式 i=x 的类型是 int&amp;。</li><li><code>C++11</code></li></ul><hr><h3 id="exercise-233"><a class="anchor" href="#exercise-233">#</a> Exercise 2.33</h3><p>利用本节定义的变量，判断下列语句的运行结果。</p><p>解：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//a 是 int</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//b 是一个 int,(ci 的顶层 const 在拷贝时被忽略掉了)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>c<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//c 也是一个 int</span></pre></td></tr><tr><td data-num="4"></td><td><pre>d<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//d 是一个 int *, 所以语句非法</span></pre></td></tr><tr><td data-num="5"></td><td><pre>e<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//e 是一个 const int *, 所以语句非法</span></pre></td></tr><tr><td data-num="6"></td><td><pre>g<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//g 是一个 const int 的引用，引用都是底层 const，所以不能被赋值</span></pre></td></tr></table></figure><h3 id="exercise-234"><a class="anchor" href="#exercise-234">#</a> Exercise 2.34</h3><p>基于上一个练习中的变量和语句编写一段程序，输出赋值前后变量的内容，你刚才的推断正确吗？如果不对，请反复研读本节的示例直到你明白错在何处为止。</p><h3 id="exercise-235"><a class="anchor" href="#exercise-235">#</a> Exercise 2.35</h3><p>判断下列定义推断出的类型是什么，然后编写程序进行验证。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">auto</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">auto</span> <span class="token operator">&amp;</span>k <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token keyword">auto</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">auto</span> j2 <span class="token operator">=</span> i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k2 <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>j 是 int，k 是 const int 的引用，p 是 const int *，j2 是 const int，k2 是 const int 的引用。</p><h3 id="exercise-236"><a class="anchor" href="#exercise-236">#</a> Exercise 2.36</h3><p>关于下面的代码，请指出每一个变量的类型以及程序结束时它们各自的值。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">decltype</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> c <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> d <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">++</span>c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">++</span>d<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>c 是 int 类型，值为 4。d 是 int &amp; 类型，绑定到 a，a 的值为 4 。</p><h3 id="exercise-237"><a class="anchor" href="#exercise-237">#</a> Exercise 2.37</h3><p>赋值是会产生引用的一类典型表达式，引用的类型就是左值的类型。也就是说，如果 i 是 int，则表达式 i=x 的类型是 int&amp;。根据这一特点，请指出下面的代码中每一个变量的类型和值。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">decltype</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> c <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">decltype</span><span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span> d <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr></table></figure><p>解：</p><p>c 是 int 类型，值为 3。d 是 int&amp; 类型，绑定到 a。</p><h3 id="exercise-238"><a class="anchor" href="#exercise-238">#</a> Exercise 2.38</h3><p>说明由 decltype 指定类型和由 auto 指定类型有何区别。请举一个例子，decltype 指定的类型与 auto 指定的类型一样；再举一个例子，decltype 指定的类型与 auto 指定的类型不一样。</p><p>解：</p><p>decltype 处理顶层 const 和引用的方式与 auto 不同，decltype 会将顶层 const 和引用保留起来。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 相同</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">auto</span> a <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">decltype</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> b <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 不同 d 是一个 int&amp;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">auto</span> c <span class="token operator">=</span> r<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">decltype</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> d <span class="token operator">=</span> r<span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="defining-our-own-data-structures-chapter-summary"><a class="anchor" href="#defining-our-own-data-structures-chapter-summary">#</a> Defining Our Own Data Structures Chapter Summary</h2><hr><h3 id="自定义数据结构"><a class="anchor" href="#自定义数据结构">#</a> 自定义数据结构</h3><h4 id="struct"><a class="anchor" href="#struct">#</a> struct</h4><blockquote><p>尽量不要吧类定义和对象定义放在一起。如 <code>struct Student&#123;&#125; xiaoming,xiaofang;</code></p></blockquote><ul><li>类可以以关键字 <code>struct</code> 开始，紧跟类名和类体。</li><li>类数据成员：类体定义类的成员。</li><li><code>C++11</code> ：可以为类数据成员提供一个<strong>类内初始值</strong>（in-class initializer）。</li></ul><h4 id="编写自己的头文件"><a class="anchor" href="#编写自己的头文件">#</a> 编写自己的头文件</h4><ul><li>头文件通常包含哪些只能被定义一次的实体：类、 <code>const</code> 和 <code>constexpr</code> 变量。</li></ul><p>预处理器概述：</p><ul><li><strong>预处理器</strong>（preprocessor）：确保头文件多次包含仍能安全工作。</li><li>当预处理器看到 <code>#include</code> 标记时，会用指定的头文件内容代替 <code>#include</code></li><li><strong>头文件保护符</strong>（header guard）：头文件保护符依赖于预处理变量的状态：已定义和未定义。<ul><li><code>#indef</code> 已定义时为真</li><li><code>#inndef</code> 未定义时为真</li><li>头文件保护符的名称需要唯一，且保持全部大写。养成良好习惯，不论是否该头文件被包含，要加保护符。</li></ul></li></ul><pre><code class="language-c++">#ifndef SALES_DATA_H  //SALES_DATA_H未定义时为真
#define SALES_DATA_H
strct Sale_data&#123;
    ...
&#125;
#endif
</code></pre><hr><h3 id="exercise-239"><a class="anchor" href="#exercise-239">#</a> Exercise 2.39</h3><p>编译下面的程序观察其运行结果，注意，如果忘记写类定义体后面的分号会发生什么情况？记录下相关的信息，以后可能会有用。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 此处为空  */</span> <span class="token punctuation">&#125;</span> <span class="token comment">// 注意：没有分号</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span>。</pre></td></tr></table></figure><p>解：</p><p>提示应输入分号。</p><h3 id="exercise-240"><a class="anchor" href="#exercise-240">#</a> Exercise 2.40</h3><p>根据自己的理解写出 Sales_data 类，最好与书中的例子有所区别。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Sale_data</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    std<span class="token double-colon punctuation">::</span>string bookNo<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    std<span class="token double-colon punctuation">::</span>string bookName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">unsigned</span> units_sold <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">double</span> revenue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">double</span> price <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">//...</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="exercise-241"><a class="anchor" href="#exercise-241">#</a> Exercise 2.41</h3><p>使用你自己的 Sale_data 类重写 1.5.1 节（第 20 页）、1.5.2 节（第 21 页）和 1.6 节（第 22 页）的练习。眼下先把 Sales_data 类的定义和 main 函数放在一个文件里。</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 1.5.1</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Sale_data</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    std<span class="token double-colon punctuation">::</span>string bookNo<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">unsigned</span> units_sold <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">double</span> revenue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    Sale_data book<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">double</span> price<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> book<span class="token punctuation">.</span>bookNo <span class="token operator">>></span> book<span class="token punctuation">.</span>units_sold <span class="token operator">>></span> price<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    book<span class="token punctuation">.</span>revenue <span class="token operator">=</span> book<span class="token punctuation">.</span>units_sold <span class="token operator">*</span> price<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>bookNo <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>units_sold <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>revenue <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> price<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 1.5.2</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Sale_data</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    std<span class="token double-colon punctuation">::</span>string bookNo<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">unsigned</span> units_sold <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">double</span> revenue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    Sale_data book1<span class="token punctuation">,</span> book2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">double</span> price1<span class="token punctuation">,</span> price2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> book1<span class="token punctuation">.</span>bookNo <span class="token operator">>></span> book1<span class="token punctuation">.</span>units_sold <span class="token operator">>></span> price1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> book2<span class="token punctuation">.</span>bookNo <span class="token operator">>></span> book2<span class="token punctuation">.</span>units_sold <span class="token operator">>></span> price2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    book1<span class="token punctuation">.</span>revenue <span class="token operator">=</span> book1<span class="token punctuation">.</span>units_sold <span class="token operator">*</span> price1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    book2<span class="token punctuation">.</span>revenue <span class="token operator">=</span> book2<span class="token punctuation">.</span>units_sold <span class="token operator">*</span> price2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>book1<span class="token punctuation">.</span>bookNo <span class="token operator">==</span> book2<span class="token punctuation">.</span>bookNo<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">unsigned</span> totalCnt <span class="token operator">=</span> book1<span class="token punctuation">.</span>units_sold <span class="token operator">+</span> book2<span class="token punctuation">.</span>units_sold<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token keyword">double</span> totalRevenue <span class="token operator">=</span> book1<span class="token punctuation">.</span>revenue <span class="token operator">+</span> book2<span class="token punctuation">.</span>revenue<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> book1<span class="token punctuation">.</span>bookNo <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> totalCnt <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> totalRevenue <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span>totalCnt <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> totalRevenue <span class="token operator">/</span> totalCnt <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token keyword">else</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(no sales)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        std<span class="token double-colon punctuation">::</span>cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"Data must refer to same ISBN"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// indicate failure</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 1.6</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Sale_data</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    std<span class="token double-colon punctuation">::</span>string bookNo<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">unsigned</span> units_sold <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">double</span> revenue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    Sale_data total<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">double</span> totalPrice<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> total<span class="token punctuation">.</span>bookNo <span class="token operator">>></span> total<span class="token punctuation">.</span>units_sold <span class="token operator">>></span> totalPrice<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        total<span class="token punctuation">.</span>revenue <span class="token operator">=</span> total<span class="token punctuation">.</span>units_sold <span class="token operator">*</span> totalPrice<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>        Sale_data trans<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token keyword">double</span> transPrice<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token keyword">while</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> trans<span class="token punctuation">.</span>bookNo <span class="token operator">>></span> trans<span class="token punctuation">.</span>units_sold <span class="token operator">>></span> transPrice<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            trans<span class="token punctuation">.</span>revenue <span class="token operator">=</span> trans<span class="token punctuation">.</span>units_sold <span class="token operator">*</span> transPrice<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>total<span class="token punctuation">.</span>bookNo <span class="token operator">==</span> trans<span class="token punctuation">.</span>bookNo<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>                total<span class="token punctuation">.</span>units_sold <span class="token operator">+=</span> trans<span class="token punctuation">.</span>units_sold<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>                total<span class="token punctuation">.</span>revenue <span class="token operator">+=</span> trans<span class="token punctuation">.</span>revenue<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token keyword">else</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>                std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>bookNo <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>units_sold <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>revenue <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>                <span class="token keyword">if</span> <span class="token punctuation">(</span>total<span class="token punctuation">.</span>units_sold <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>                    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>revenue <span class="token operator">/</span> total<span class="token punctuation">.</span>units_sold <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>                <span class="token keyword">else</span></pre></td></tr><tr><td data-num="38"></td><td><pre>                    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(no sales)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>                total<span class="token punctuation">.</span>bookNo <span class="token operator">=</span> trans<span class="token punctuation">.</span>bookNo<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>                total<span class="token punctuation">.</span>units_sold <span class="token operator">=</span> trans<span class="token punctuation">.</span>units_sold<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>                total<span class="token punctuation">.</span>revenue <span class="token operator">=</span> trans<span class="token punctuation">.</span>revenue<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>bookNo <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>units_sold <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>revenue <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total<span class="token punctuation">.</span>units_sold <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> total<span class="token punctuation">.</span>revenue <span class="token operator">/</span> total<span class="token punctuation">.</span>units_sold <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>        <span class="token keyword">else</span></pre></td></tr><tr><td data-num="50"></td><td><pre>            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(no sales)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>        std<span class="token double-colon punctuation">::</span>cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"No data?!"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// indicate failure</span></pre></td></tr><tr><td data-num="58"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="exercise-242"><a class="anchor" href="#exercise-242">#</a> Exercise 2.42</h3><p>根据你自己的理解重写一个 Sales_data.h 头文件，并以此为基础重做 2.6.2 节（第 67 页）的练习。</p><h2 id="chapter-summary"><a class="anchor" href="#chapter-summary">#</a> Chapter Summary</h2><p>🍓：）</p><div class="tags"><a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag"><i class="ic i-tag"></i> 读书笔记</a> <a href="/tags/C/" rel="tag"><i class="ic i-tag"></i> C++</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2022-12-18 16:01:55" itemprop="dateModified" datetime="2022-12-18T16:01:55+08:00">2022-12-18</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Sakupinera WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="Sakupinera Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="Sakupinera PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Sakupinera <i class="ic i-at"><em>@</em></i>Sakupinera</li><li class="link"><strong>Post link: </strong><a href="http://sakupinera.github.io/2022/12/10/cpp/cpp-primer/Chapter%202%20Variables%20and%20Basic%20Types/" title="C++ Primer - Chapter 2 Variables and Basic Types">http://sakupinera.github.io/2022/12/10/cpp/cpp-primer/Chapter 2 Variables and Basic Types/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/12/09/cpp/cpp-primer/Chapter%201%20Getting%20Started/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2023&#x2F;03&#x2F;08&#x2F;yO4CQpnLWhEzMsx.jpg" title="C++ Primer - Chapter 1 Getting Started"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> Cpp-Primer</span><h3>C++ Primer - Chapter 1 Getting Started</h3></a></div><div class="item right"><a href="/2022/12/11/cpp/cpp-primer/Chapter%203%20Strings,%20Vectors,%20and%20Arrays/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2023&#x2F;03&#x2F;08&#x2F;utEsOX73wkq1ycI.jpg" title="C++ Primer - Chapter 3 Strings, Vectors, and Arrays"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> Cpp-Primer</span><h3>C++ Primer - Chapter 3 Strings, Vectors, and Arrays</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#chapter-2-variables-and-basic-types"><span class="toc-number">1.</span> <span class="toc-text">Chapter 2 Variables and Basic Types</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#primitive-built-in-types"><span class="toc-number">1.1.</span> <span class="toc-text">Primitive Built-in Types</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">基本内置类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">如何选择类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.1.3.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E9%9D%A2%E5%80%BC%E5%B8%B8%E9%87%8F"><span class="toc-number">1.1.4.</span> <span class="toc-text">字面值常量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-21"><span class="toc-number">1.1.5.</span> <span class="toc-text">Exercise 2.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-22"><span class="toc-number">1.1.6.</span> <span class="toc-text">Exercise 2.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-23"><span class="toc-number">1.1.7.</span> <span class="toc-text">Exercise 2.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-24"><span class="toc-number">1.1.8.</span> <span class="toc-text">Exercise 2.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-25"><span class="toc-number">1.1.9.</span> <span class="toc-text">Exercise 2.5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-26"><span class="toc-number">1.1.10.</span> <span class="toc-text">Exercise 2.6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-27"><span class="toc-number">1.1.11.</span> <span class="toc-text">Exercise 2.7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-28"><span class="toc-number">1.1.12.</span> <span class="toc-text">Exercise 2.8</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#variables"><span class="toc-number">1.2.</span> <span class="toc-text">Variables</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89define"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">变量定义（define）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8Edeclaration-vs-%E5%AE%9A%E4%B9%89define"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">变量的声明（declaration） vs 定义（define）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">变量命名规范</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-29"><span class="toc-number">1.2.2.</span> <span class="toc-text">Exercise 2.9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-210"><span class="toc-number">1.2.3.</span> <span class="toc-text">Exercise 2.10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-211"><span class="toc-number">1.2.4.</span> <span class="toc-text">Exercise 2.11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-212"><span class="toc-number">1.2.5.</span> <span class="toc-text">Exercise 2.12</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-213"><span class="toc-number">1.2.6.</span> <span class="toc-text">Exercise 2.13</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-214"><span class="toc-number">1.2.7.</span> <span class="toc-text">Exercise 2.14</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#compound-types"><span class="toc-number">1.3.</span> <span class="toc-text">Compound Types</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E5%80%BC%E5%92%8C%E5%8F%B3%E5%80%BC"><span class="toc-number">1.3.1.</span> <span class="toc-text">左值和右值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.2.</span> <span class="toc-text">复合类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">引用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">指针</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-215"><span class="toc-number">1.3.3.</span> <span class="toc-text">Exercise 2.15</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-216"><span class="toc-number">1.3.4.</span> <span class="toc-text">Exercise 2.16</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-217"><span class="toc-number">1.3.5.</span> <span class="toc-text">Exercise 2.17</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-218"><span class="toc-number">1.3.6.</span> <span class="toc-text">Exercise 2.18</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-219"><span class="toc-number">1.3.7.</span> <span class="toc-text">Exercise 2.19</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-220"><span class="toc-number">1.3.8.</span> <span class="toc-text">Exercise 2.20</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-221"><span class="toc-number">1.3.9.</span> <span class="toc-text">Exercise 2.21</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-222"><span class="toc-number">1.3.10.</span> <span class="toc-text">Exercise 2.22</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-223"><span class="toc-number">1.3.11.</span> <span class="toc-text">Exercise 2.23</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-224"><span class="toc-number">1.3.12.</span> <span class="toc-text">Exercise 2.24</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-225"><span class="toc-number">1.3.13.</span> <span class="toc-text">Exercise 2.25</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const-qualifier"><span class="toc-number">1.4.</span> <span class="toc-text">const Qualifier</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const%E9%99%90%E5%AE%9A%E7%AC%A6"><span class="toc-number">1.4.1.</span> <span class="toc-text">const 限定符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8Cconst"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">初始化和 const</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const%E7%9A%84%E5%BC%95%E7%94%A8"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">const 的引用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8Cconst"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">指针和 const</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B6%E5%B1%82const"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">顶层 const</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#constexpr%E5%92%8C%E5%B8%B8%E9%87%8F%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8F%AF%E9%80%89"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">constexpr 和常量表达式（▲可选）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-226"><span class="toc-number">1.4.2.</span> <span class="toc-text">Exercise 2.26</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-227"><span class="toc-number">1.4.3.</span> <span class="toc-text">Exercise 2.27</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-228"><span class="toc-number">1.4.4.</span> <span class="toc-text">Exercise 2.28</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-229"><span class="toc-number">1.4.5.</span> <span class="toc-text">Exercise 2.29</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-230"><span class="toc-number">1.4.6.</span> <span class="toc-text">Exercise 2.30</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-231"><span class="toc-number">1.4.7.</span> <span class="toc-text">Exercise 2.31</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-232"><span class="toc-number">1.4.8.</span> <span class="toc-text">Exercise 2.32</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dealing-with-types"><span class="toc-number">1.5.</span> <span class="toc-text">Dealing with Types</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.5.1.</span> <span class="toc-text">处理类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">类型别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#auto%E7%B1%BB%E5%9E%8B%E8%AF%B4%E6%98%8E%E7%AC%A6-c11"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">auto 类型说明符 c++11</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B-%E5%B8%B8%E9%87%8F%E5%92%8Cauto"><span class="toc-number">1.5.1.3.</span> <span class="toc-text">复合类型、常量和 auto</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#decltype%E7%B1%BB%E5%9E%8B%E6%8C%87%E7%A4%BA%E7%AC%A6"><span class="toc-number">1.5.1.4.</span> <span class="toc-text">decltype 类型指示符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-233"><span class="toc-number">1.5.2.</span> <span class="toc-text">Exercise 2.33</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-234"><span class="toc-number">1.5.3.</span> <span class="toc-text">Exercise 2.34</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-235"><span class="toc-number">1.5.4.</span> <span class="toc-text">Exercise 2.35</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-236"><span class="toc-number">1.5.5.</span> <span class="toc-text">Exercise 2.36</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-237"><span class="toc-number">1.5.6.</span> <span class="toc-text">Exercise 2.37</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-238"><span class="toc-number">1.5.7.</span> <span class="toc-text">Exercise 2.38</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defining-our-own-data-structures-chapter-summary"><span class="toc-number">1.6.</span> <span class="toc-text">Defining Our Own Data Structures Chapter Summary</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.1.</span> <span class="toc-text">自定义数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#struct"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">struct</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">编写自己的头文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-239"><span class="toc-number">1.6.2.</span> <span class="toc-text">Exercise 2.39</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-240"><span class="toc-number">1.6.3.</span> <span class="toc-text">Exercise 2.40</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-241"><span class="toc-number">1.6.4.</span> <span class="toc-text">Exercise 2.41</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exercise-242"><span class="toc-number">1.6.5.</span> <span class="toc-text">Exercise 2.42</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chapter-summary"><span class="toc-number">1.7.</span> <span class="toc-text">Chapter Summary</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li><a href="/2022/12/09/cpp/cpp-primer/Chapter%201%20Getting%20Started/" rel="bookmark" title="C++ Primer - Chapter 1 Getting Started">C++ Primer - Chapter 1 Getting Started</a></li><li class="active"><a href="/2022/12/10/cpp/cpp-primer/Chapter%202%20Variables%20and%20Basic%20Types/" rel="bookmark" title="C++ Primer - Chapter 2 Variables and Basic Types">C++ Primer - Chapter 2 Variables and Basic Types</a></li><li><a href="/2022/12/11/cpp/cpp-primer/Chapter%203%20Strings,%20Vectors,%20and%20Arrays/" rel="bookmark" title="C++ Primer - Chapter 3 Strings, Vectors, and Arrays">C++ Primer - Chapter 3 Strings, Vectors, and Arrays</a></li><li><a href="/2022/12/12/cpp/cpp-primer/Chapter%204%20Expressions/" rel="bookmark" title="C++ Primer - Chapter 4 Expressions">C++ Primer - Chapter 4 Expressions</a></li><li><a href="/2022/12/13/cpp/cpp-primer/Chapter%205%20Statements/" rel="bookmark" title="C++ Primer - Chapter 5 Statements">C++ Primer - Chapter 5 Statements</a></li><li><a href="/2022/12/14/cpp/cpp-primer/Chapter%206%20Functions/" rel="bookmark" title="C++ Primer - Chapter 6 Functions">C++ Primer - Chapter 6 Functions</a></li><li><a href="/2022/12/15/cpp/cpp-primer/Chapter%207%20Classes/" rel="bookmark" title="C++ Primer - Chapter 7 Classes">C++ Primer - Chapter 7 Classes</a></li><li><a href="/2022/12/16/cpp/cpp-primer/Chapter%208%20The%20IO%20Library/" rel="bookmark" title="C++ Primer - Chapter 8 The IO Library">C++ Primer - Chapter 8 The IO Library</a></li><li><a href="/2022/12/17/cpp/cpp-primer/Chapter%209%20Sequential%20Containers/" rel="bookmark" title="C++ Primer - Chapter 9 Sequential Containers">C++ Primer - Chapter 9 Sequential Containers</a></li><li><a href="/2023/01/02/cpp/cpp-primer/Chapter%2010%20Generic%20Algorithms/" rel="bookmark" title="C++ Primer - Chapter 10 Generic Algorithms">C++ Primer - Chapter 10 Generic Algorithms</a></li><li><a href="/2023/01/03/cpp/cpp-primer/Chapter%2011%20Associative%20Containers/" rel="bookmark" title="C++ Primer - Chapter 11 Associative Containers">C++ Primer - Chapter 11 Associative Containers</a></li><li><a href="/2023/01/04/cpp/cpp-primer/Chapter%2012%20Dynamic%20Memory/" rel="bookmark" title="C++ Primer - Chapter 12 Dynamic Memory">C++ Primer - Chapter 12 Dynamic Memory</a></li><li><a href="/2023/01/05/cpp/cpp-primer/Chapter%2013%20Copy%20Control/" rel="bookmark" title="C++ Primer - Chapter 13 Copy Control">C++ Primer - Chapter 13 Copy Control</a></li><li><a href="/2023/01/06/cpp/cpp-primer/Chapter%2014%20Overloaded%20Operations%20and%20Conversions/" rel="bookmark" title="C++ Primer - Chapter 14 Overloaded Operations and Conversions">C++ Primer - Chapter 14 Overloaded Operations and Conversions</a></li><li><a href="/2023/01/07/cpp/cpp-primer/Chapter%2015%20Object-Oriented%20Programming/" rel="bookmark" title="C++ Primer - Chapter 15 Object-Oriented Programming">C++ Primer - Chapter 15 Object-Oriented Programming</a></li><li><a href="/2023/01/08/cpp/cpp-primer/Chapter%2016%20Templates%20and%20Generic%20Programming/" rel="bookmark" title="C++ Primer - Chapter 16 Templates and Generic Programming">C++ Primer - Chapter 16 Templates and Generic Programming</a></li><li><a href="/2023/01/09/cpp/cpp-primer/Chapter%2017%20Specialized%20Library%20Facilities/" rel="bookmark" title="C++ Primer - Chapter 17 Specialized Library Facilities">C++ Primer - Chapter 17 Specialized Library Facilities</a></li><li><a href="/2023/01/10/cpp/cpp-primer/Chapter%2018%20Tools%20for%20Large%20Programs/" rel="bookmark" title="C++ Primer - Chapter 18 Tools for Large Programs">C++ Primer - Chapter 18 Tools for Large Programs</a></li><li><a href="/2023/01/11/cpp/cpp-primer/Chapter%2019%20Specialized%20Tools%20and%20Techniques/" rel="bookmark" title="C++ Primer - Chapter 19 Specialized Tools and Techniques">C++ Primer - Chapter 19 Specialized Tools and Techniques</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Sakupinera" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Sakupinera</p><div class="description" itemprop="description">保持你的决心！</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">86</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">13</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">6</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Nha3VwaW5lcmE=" title="https:&#x2F;&#x2F;github.com&#x2F;sakupinera"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9zYWt1cGluZXJh" title="https:&#x2F;&#x2F;twitter.com&#x2F;sakupinera"><i class="ic i-twitter"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTQwNzIyOTA3MQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;407229071"><i class="ic i-cloud-music"></i></span> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMjIzMDczOTg/c3BtX2lkX2Zyb209MzMzLjEwMDcuMC4w" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;22307398?spm_id_from&#x3D;333.1007.0.0"><i class="ic i-bilibili"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/games/" rel="section"><i class="ic i-flag"></i>Games</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-person"></i>About</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/12/09/cpp/cpp-primer/Chapter%201%20Getting%20Started/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/12/11/cpp/cpp-primer/Chapter%203%20Strings,%20Vectors,%20and%20Arrays/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/11/21/csharp/clr-via-csharp/Chapter%2017%20Delegates/" title="CLR via C# - Chapter 17 Delegates">CLR via C# - Chapter 17 Delegates</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/11/25/csharp/clr-via-csharp/Chapter%2020%20Exceptions%20and%20State%20Management/" title="CLR via C# - Chapter 20 Exceptions and State Management">CLR via C# - Chapter 20 Exceptions and State Management</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Cpp/" title="In Cpp">Cpp</a> <i class="ic i-angle-right"></i> <a href="/categories/Cpp/Cpp-Primer/" title="In Cpp-Primer">Cpp-Primer</a></div><span><a href="/2023/01/08/cpp/cpp-primer/Chapter%2016%20Templates%20and%20Generic%20Programming/" title="C++ Primer - Chapter 16 Templates and Generic Programming">C++ Primer - Chapter 16 Templates and Generic Programming</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="In Linux">Linux</a> <i class="ic i-angle-right"></i> <a href="/categories/Linux/Learn-Linux/" title="In Learn-Linux">Learn-Linux</a></div><span><a href="/2022/09/02/linux/learn-linux/Shell%E5%9F%BA%E7%A1%80/" title="LearnLinux - Shell基础">LearnLinux - Shell基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Cpp/" title="In Cpp">Cpp</a> <i class="ic i-angle-right"></i> <a href="/categories/Cpp/Cpp-Primer/" title="In Cpp-Primer">Cpp-Primer</a></div><span><a href="/2022/12/11/cpp/cpp-primer/Chapter%203%20Strings,%20Vectors,%20and%20Arrays/" title="C++ Primer - Chapter 3 Strings, Vectors, and Arrays">C++ Primer - Chapter 3 Strings, Vectors, and Arrays</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Computer-Graphics/" title="In Computer-Graphics">Computer-Graphics</a> <i class="ic i-angle-right"></i> <a href="/categories/Computer-Graphics/GAMES101/" title="In GAMES101">GAMES101</a></div><span><a href="/2022/10/09/computer-graphics/games101/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA/" title="GAMES101 - Ray Tracing（光线追踪）">GAMES101 - Ray Tracing（光线追踪）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CSharp-in-a-Nutshell/" title="In CSharp-in-a-Nutshell">CSharp-in-a-Nutshell</a></div><span><a href="/2022/09/04/csharp/csharp-in-a-nutshell/%E7%AC%AC14%E7%AB%A0%20%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%BC%82%E6%AD%A5/" title="C# in a Nutshell - 第14章 并发与异步">C# in a Nutshell - 第14章 并发与异步</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2023/02/08/csharp/clr-via-csharp/Chapter%2028%20IO-Bound%20Asynchronous%20Operations/" title="CLR via C# - Chapter 28 IO-Bound Asynchronous Operations">CLR via C# - Chapter 28 IO-Bound Asynchronous Operations</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/10/15/csharp/clr-via-csharp/Chapter%205%20Primitive,%20Reference,%20and%20Value%20%20Types/" title="CLR via C# - Chapter 5 Primitive, Reference, and Value Types Fundamentals">CLR via C# - Chapter 5 Primitive, Reference, and Value Types Fundamentals</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CSharp-in-a-Nutshell/" title="In CSharp-in-a-Nutshell">CSharp-in-a-Nutshell</a></div><span><a href="/2022/08/29/csharp/csharp-in-a-nutshell/%E7%AC%AC3%E7%AB%A0%20%E5%9C%A8CSharp%E4%B8%AD%E5%88%9B%E5%BB%BA%E7%B1%BB%E5%9E%8B/" title="C# in a Nutshell - 第3章 在C#中创建类型">C# in a Nutshell - 第3章 在C#中创建类型</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Sakupinera @ Hanamai Sora</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">2.2m words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">33:30</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/12/10/cpp/cpp-primer/Chapter 2 Variables and Basic Types/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/assets/shifuku.model.json"},display:{position:"left",width:250,height:500},mobile:{show:!1},react:{opacity:.9},log:!1})</script></body></html>