<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Sakupinera" href="http://sakupinera.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Sakupinera" href="http://sakupinera.github.io/atom.xml"><link rel="alternate" type="application/json" title="Sakupinera" href="http://sakupinera.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="学习笔记"><link rel="canonical" href="http://sakupinera.github.io/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><title>计算机网络 - Network | Hanamai Sora = Sakupinera</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">计算机网络</h1><div class="meta"><span class="item" title="Created: 2023-03-21 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2023-03-21T00:00:00+08:00">2023-03-21</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>13k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>12 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Hanamai Sora</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s2.loli.net/2023/03/08/EXaiHD39BF7QWok.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/XtZcHusj92O56kz.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/utEsOX73wkq1ycI.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/Rft6Y9pgTV5E17J.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/qSxQEJk41eog52I.png"></li><li class="item" data-background-image="https://s2.loli.net/2023/03/08/udCBOQsY6PwAW1g.png"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Network/" itemprop="item" rel="index" title="In Network"><span itemprop="name">Network</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="http://sakupinera.github.io/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Sakupinera"><meta itemprop="description" content=", 保持你的决心！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sakupinera"></span><div class="body md" itemprop="articleBody"><h1 id="计算机网络"><a class="anchor" href="#计算机网络">#</a> 计算机网络</h1><h2 id="概述"><a class="anchor" href="#概述">#</a> 概述</h2><h3 id="概念"><a class="anchor" href="#概念">#</a> 概念</h3><p>计算机网络：是一个将分散的、既有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。</p><p>计算机网络是互连的、自治的计算机集合。</p><p>互连 - 互联互通</p><p>自治 - 无主从关系</p><h3 id="计算机网络的功能"><a class="anchor" href="#计算机网络的功能">#</a> 计算机网络的功能</h3><ol><li><p>数据通信（连通性）</p></li><li><p>资源共享</p></li><li><p>分布式处理</p></li><li><p>提高可靠性</p></li><li><p>负载均衡</p><p>...</p></li></ol><h3 id="计算机网路的组成"><a class="anchor" href="#计算机网路的组成">#</a> 计算机网路的组成</h3><p>组成部分：硬件、软件、协议</p><p>工作方式：</p><ul><li>边缘部分	用户直接使用：C/S 方式和 P2P 方式</li><li>核心部分 为边缘部分服务</li></ul><p>功能组成：</p><ul><li>通信子网	实现数据通信</li><li>资源子网 实现资源共享 / 数据处理</li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313105131591.png" alt="image-20230313105131591"></p><h3 id="计算机网络的分类"><a class="anchor" href="#计算机网络的分类">#</a> 计算机网络的分类</h3><p>按分布范围分：广域网 WAN、城域网 MAN、局域网 WAN、个人区域网 PAN</p><p>按使用者分：公用网、专用网</p><p>按交换技术分：电路交换、报文交换、分组交换</p><p>按拓扑结构分：总线型、星型、环型、网状型</p><p>按传输技术分：</p><ul><li>广播式网络	共享公共通信信道</li><li>点对点网络 使用分组传输转发和路由选择机制</li></ul><h3 id="速率"><a class="anchor" href="#速率">#</a> 速率</h3><p>速率即数据率或称数据传输率或比特率。</p><h3 id="带宽"><a class="anchor" href="#带宽">#</a> 带宽</h3><p>“带宽” 原本指某个信号具有的频带宽度，即最高频率与最低频率之差，单位是赫兹（Hz）。</p><p>在计算机网络中，带宽用来表示网络的通信线路传送数据的能力，通常是指单位时间内从网络中的某一点到另一点所能通过的 “最高数据率”。单位是比特每秒。</p><h3 id="吞吐量"><a class="anchor" href="#吞吐量">#</a> 吞吐量</h3><p>表示在单位时间内通过某个网络（或信道、接口）的数据量。</p><p>吞吐量受网络的带宽或网络的额定速率的限制。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313110437696.png" alt="image-20230313110437696"></p><h3 id="时延"><a class="anchor" href="#时延">#</a> 时延</h3><p>指数据（报文 / 分组 / 比特流）从网络（或链路）的一端传送到另一端所需的时间。也叫延迟或迟延，单位是 s。</p><p>分为发送时延、传播时延、排队时延（等待输出 / 入链路可用）、处理时延（检错、找出口）。</p><p>发送时延 = 数据长度 / 信道带宽（发送速率）</p><p>传播时延 = 信道长度 / 电磁波在信道上的传播速率</p><h3 id="时延带宽积"><a class="anchor" href="#时延带宽积">#</a> 时延带宽积</h3><p>时延带宽积 = 传播时延 × 带宽</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313102317977.png" alt="image-20230313102317977"></p><p>时延带宽积又称为以比特为单位的链路长度。</p><h3 id="往返时延rtt"><a class="anchor" href="#往返时延rtt">#</a> 往返时延 RTT</h3><p>从发送方发送数据开始，到发送方收到接收方的确认（接收方收到数据后立即发送确认），总共经历的时延。</p><p>RTT 越大，在收到确认之前，可以发送的数据越多。</p><p>RTT 包括往返传播时延和末端处理时间（指接收方的处理时间）。</p><h3 id="利用率"><a class="anchor" href="#利用率">#</a> 利用率</h3><p>信道利用率：有数据通过的时间 /（有 + 无）数据通过时间</p><p>网络利用率：信道利用率加权平均值</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313103519450.png" alt="image-20230313103519450"></p><h3 id="isoosi参考模型"><a class="anchor" href="#isoosi参考模型">#</a> ISO/OSI 参考模型</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313113224560.png" alt="image-20230313113224560"></p><p>应用层：所有能和用户交互产生网络流量的程序。典型应用层服务：文件传输（FTP）、电子邮件（SMTP）、万维网（HTTP）。</p><p>表示层：用于处理在两个通信系统中交换信息的表示方式。功能：数据格式变换、数据加密解密、数据的压缩和恢复等。主要协议：JPEG、ASCII。</p><p>会话层：向表示层实体 / 用户进程提供建立连接并在连接上有序地传输数据。这是会话，也是建立同步（SYN）。功能：建立、管理、终止会话、使用校验点可使会话在通信失效时从校验点 / 同步点继续运行通信，实现数据同步。主要协议：ADSP、ASP。</p><p>传输层：负责主机中两个进程的通信，即端到端的通信。传输单位是报文段或用户数据报。功能：可靠传输、不可靠传输、差错控制、流量控制、复用分用。主要协议：TCP、UDP。</p><p>网络层：主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务。网络层传输单位是数据报。功能：路由选择、流量控制、差错控制、拥塞控制。主要协议：IP、IPX、ICMP、IGMP、ARP、RARP、OSPF。</p><p>数据链路层：主要任务是把网络层传下来的数据报组装成帧。数据链路层 / 链路层的传输单位是帧。功能：成帧（定义帧的开始和结束）、差错控制（帧错 + 位错）、流量控制、访问（接入）控制（控制对信道的访问）。主要协议：SDLC、HDLC、PPP、STP。</p><p>物理层：主要任务是在物理媒体上实现比特流的透明传输。物理层传输单位是比特。功能：定义接口特性、定义传输模式（单工、半双工、双工）、定义传输速率、比特同步、比特编码。主要协议：Rj45、802.3。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313153707601.png" alt="image-20230313153707601"></p><h2 id="物理层"><a class="anchor" href="#物理层">#</a> 物理层</h2><h3 id="两种数据的传输方式"><a class="anchor" href="#两种数据的传输方式">#</a> 两种数据的传输方式</h3><ul><li>串行传输：速度慢、费用低、适合远距离</li><li>并行传输：速度快、费用高、适合近距离</li></ul><h3 id="奈氏准则奈奎斯特定理"><a class="anchor" href="#奈氏准则奈奎斯特定理">#</a> 奈氏准则（奈奎斯特定理）</h3><p>奈氏准则：在理想低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限码元传输速率为 2W Baud， W 是信道带宽，单位是 Hz。</p><h3 id="香农定理"><a class="anchor" href="#香农定理">#</a> 香农定理</h3><p>噪声存在于所有的电子设备和通信信道中。由于噪声随机产生，它的瞬时值有时会很大，因此噪声会使接收端对码元的判决产生错误。但是噪声的影响是相对的，若信号较强，那么噪声影响相对较小。因此，信噪比就很重要。信噪比 = 信号的平均功率 / 噪声的平均功率，常记为 S/N，并用分贝 (dB) 作为度量单位。</p><p>香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。</p><h3 id="基带信号与宽带信号"><a class="anchor" href="#基带信号与宽带信号">#</a> 基带信号与宽带信号</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230313202249974.png" alt="image-20230313202249974"></p><h2 id="数据链路层"><a class="anchor" href="#数据链路层">#</a> 数据链路层</h2><h3 id="数据链路层功能概述"><a class="anchor" href="#数据链路层功能概述">#</a> 数据链路层功能概述</h3><p>数据链路层在物理层提供服务的基础上向网络层提供服务，其最基本的服务是将源自网络层来的数据可靠地传输到相邻节点的目标机网络层。其主要作用是加强物理层传输原始比特流的功能，将物理层提供的可能出错的物理连接改造成为逻辑上无差错的数据链路，使之对网络层表现为一条无差错的链路。</p><p>功能：</p><ul><li>为网络层提供服务。无确认无连接服务，有确认面向连接服务</li><li>链路管理，即连接的建立、维持、释放（用于面向连接的服务）</li><li>组帧</li><li>流量控制（控制发送方）</li><li>差错控制（帧错 / 位错）</li></ul><h3 id="封装成帧"><a class="anchor" href="#封装成帧">#</a> 封装成帧</h3><p>封装成帧就是在一段数据的前后部分添加首部和尾部，这样就构成了一个帧。接收端在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束。</p><p>首部和尾部包含许多的控制信息，他们的一个重要作用：帧定界（确定帧的界限）。</p><p>帧同步：接收方应当能从接收到的二进制比特流中区分出帧的起始和终止。</p><h3 id="透明传输"><a class="anchor" href="#透明传输">#</a> 透明传输</h3><p>透明传输是指不管所传数据是什么样的比特组合，都应当能够在链路上传送。因此，链路层就 “看不见” 有什么妨碍数据传输的东西。当所传数据中的比特组合恰巧与某一个控制信息完全一样时，就必须采取适当的措施，使收方不会将这样的数据误认为是某种控制信息。这样才能保证数据链路层的传输是透明的。</p><p>组帧的四种方法：</p><ol><li>字符计数法</li><li>字符 (节) 填充法</li><li>零比特填充法</li><li>违规编码法</li></ol><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230314115854229.png" alt="image-20230314115854229"></p><h3 id="检错编码"><a class="anchor" href="#检错编码">#</a> 检错编码</h3><ul><li>奇偶校验码</li><li>CRC 循环冗余码</li></ul><h3 id="纠错编码"><a class="anchor" href="#纠错编码">#</a> 纠错编码</h3><ul><li>海明码</li></ul><h3 id="链路层的流量控制"><a class="anchor" href="#链路层的流量控制">#</a> 链路层的流量控制</h3><p>较高的发送速度和较低的接收能力的不匹配，会造成传输出错，因此流量控制也是数据链路层的一项重要工作。</p><p>数据链路层的流量控制是点对点的，而传输层的流量控制是端到端的。</p><p>数据链路层流量控制手段：接收方收不下就不回复确认。</p><p>传输层流量控制手段：接收端给发送端一个窗口公告。</p><h4 id="流量控制的方法"><a class="anchor" href="#流量控制的方法">#</a> 流量控制的方法</h4><ul><li>停止等待协议</li><li>滑动窗口协议<ul><li>Go-Back-N protocol（GBN）</li><li>Selective Repeat protocol（SR）</li></ul></li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315140255907-1678860176838-1.png" alt="image-20230315140255907"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315140326661.png" alt="image-20230315140326661"></p><p>在链路层所讲的这几种流量控制的方法，它们的窗口大小在发送过程中永远都是固定的。</p><p>可靠传输：发送端发啥，接收端收啥。</p><p>流量控制：控制发送速率，使接收方有足够的缓冲空间来接受每一个帧。</p><p>滑动窗口解决的问题：</p><ul><li>流量控制（收不下就不给确认，想发也发不了）</li><li>可靠传输（发送方自动重传）</li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315141804540.png" alt="image-20230315141804540"></p><p>信道利用率：发送方在一个发送周期内，有效地发送数据所需要的时间占整个发送周期的比率。</p><p>信道吞吐率 = 信道利用率 * 发送方的发送速率</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315142737768.png" alt="image-20230315142737768"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315143138134.png" alt="image-20230315143138134"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315143332353.png" alt="image-20230315143332353"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315144401220.png" alt="image-20230315144401220"></p><p>GBN 协议性能分析：因连续发送数据帧而提高了信道利用率。但是在重传时必须把原来已经正确传送的数据帧重传，使传送效率降低。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315145257047.png" alt="image-20230315145257047"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315145420374.png" alt="image-20230315145420374"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315145650110.png" alt="image-20230315145650110"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315152738401.png" alt="image-20230315152738401"></p><p>SR 协议重点总结：</p><ol><li><p>对数据帧逐一确认，收一个确认一个</p></li><li><p>只重传出错帧</p></li><li><p>接收方有缓存</p></li></ol><h3 id="传输数据使用的两种链路"><a class="anchor" href="#传输数据使用的两种链路">#</a> 传输数据使用的两种链路</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315153439811.png" alt="image-20230315153439811"></p><h3 id="介质访问控制"><a class="anchor" href="#介质访问控制">#</a> 介质访问控制</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315153749935.png" alt="image-20230315153749935"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230315153919791.png" alt="image-20230315153919791"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316101524783.png" alt="image-20230316101524783"></p><h3 id="令牌传递协议"><a class="anchor" href="#令牌传递协议">#</a> 令牌传递协议</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316101349129.png" alt="image-20230316101349129"></p><h3 id="csma协议"><a class="anchor" href="#csma协议">#</a> CSMA 协议</h3><p>CS（Carrier Sense）：载波侦听 / 监听，每一个站在<mark>发送数据之前</mark>要检测一下总线上是否有其他计算机在发送数据。</p><p>MA（multiple Access）：多点接入，表示许多计算机以多点接入的方式连接在一根总线上。</p><p>协议思想：发送帧之前，监听信道。</p><p>监听结果：</p><ul><li>信道空闲：发送完整帧</li><li>信道忙：推迟发送</li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316100118668.png" alt="image-20230316100118668"></p><h3 id="csmacd协议"><a class="anchor" href="#csmacd协议">#</a> CSMA/CD 协议</h3><p>载波监听多点接入 / 碰撞检测 CSMA/CD (carrier sense multiple access with collision detection)</p><p>CS：载波侦听 / 监听，每一个站在<mark>发送数据之前</mark>以及<mark>发送数据时</mark>都要检测一下总线上是否有其他计算机在发送数据。</p><p>MA：多点接入，表示许多计算机以多点接入的方式连接在一根总线上。<strong>总线型网络</strong></p><p>CD：碰撞检测（冲突检测），“边发送边监听”，适配器边发送数据边检测信道上信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发送数据。<strong>半双工网络</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316120015171.png" alt="image-20230316120015171"></p><p><strong>最小帧长问题</strong>：<img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316155347348.png" alt="image-20230316155347348"></p><h3 id="csmaca协议"><a class="anchor" href="#csmaca协议">#</a> CSMA/CA 协议</h3><p>载波监听多点接入 / 碰撞避免 CSMA/CA (carrier sense multiple access with collision avoidance)</p><p>用于无线局域网</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316160408240.png" alt="image-20230316160408240"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316160527615.png" alt="image-20230316160527615"></p><h3 id="局域网"><a class="anchor" href="#局域网">#</a> 局域网</h3><p>局域网（Local Area Network)：简称 LAN，是指在某一区域内由多台计算机互联成的计算机组，使用广播信道。</p><p>特点：</p><ul><li><p>覆盖的地理范围较小，只在一个相对独立的局部范围内联，如一座或集中的建筑群内。</p></li><li><p>使用专门铺设的传输介质 (双绞线、同轴电缆) 进行联网，数据传输速率高 (10Mb/s~10Gb/s) 。</p></li><li><p>通信延迟时间短，误码率低，可靠性较高。</p></li><li><p>各站为平等关系，共享传输信道。</p></li><li><p>多采用分布式控制和广播式通信，能进行广播和组播。</p></li></ul><p>决定局域网的主要要素为：网络拓扑，传输介质与介质访问控制方法。</p><p>局域网传输介质：</p><ul><li>有线局域网	常用介质：双绞线、同轴电缆、光纤</li><li>无线局域网 常用介质：电磁波</li></ul><p>局域网介质访问控制方法：</p><ul><li><p>CSMA/CD：常用于总线型局域网，也用于树型网络</p></li><li><p>令牌总线：常用于总线型局域网，也用于树型网络它是把总线型或树型网络中的各个工作站按一定顺序如按接口地址大小排列形成一个逻辑环。只有令牌持有者才能控制总线，才有发送信息的权力。</p></li><li><p>令牌环用于环形局域网，如令牌环网</p></li></ul><h3 id="ieee-802标准"><a class="anchor" href="#ieee-802标准">#</a> IEEE 802 标准</h3><p>IEEE 802 系列标准是 IEEE 802 LAN/MAN 标准委员会制定的局域网、城域网技术标准 (1980 年 2 月成立) 。其中最广泛使用的有以太网、令牌环网、无线局域网等。这一系列标准中的每一个子标准都由委员会中的一个专门工作组负责。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230316162056977.png" alt="image-20230316162056977"></p><h3 id="以太网"><a class="anchor" href="#以太网">#</a> 以太网</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320150757672.png" alt="image-20230320150757672"></p><p><strong>以太网提供无连接、不可靠的服务</strong></p><ul><li>无连接：发送方和接收方之间无 “握手过程”。</li><li>不可靠：不对发送方的数据帧编号，接收方不向发送方进行确认，差错帧直接丢弃，差错纠正由高层负责。</li></ul><p><mark>以太网只实现无差错接受，不实现可靠传输。</mark></p><p>使用集线器的以太网在逻辑上仍是一个总线网，各站共享逻辑上的总线，使用的还是 CSMA/CD 协议。</p><p>以太网拓扑：逻辑上总线型，物理上星型。</p><h3 id="10base-t以太网"><a class="anchor" href="#10base-t以太网">#</a> 10BASE-T 以太网</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320153240845.png" alt="image-20230320153240845"></p><h3 id="适配器与mac地址"><a class="anchor" href="#适配器与mac地址">#</a> 适配器与 MAC 地址</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320151833604.png" alt="image-20230320151833604"></p><h3 id="以太网mac帧"><a class="anchor" href="#以太网mac帧">#</a> 以太网 MAC 帧</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320153105333.png" alt="image-20230320153105333"></p><h3 id="高速以太网"><a class="anchor" href="#高速以太网">#</a> 高速以太网</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320152916966.png" alt="image-20230320152916966"></p><h3 id="广域网"><a class="anchor" href="#广域网">#</a> 广域网</h3><p>广域网（WAN, Wide Area Network），通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个城市或国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。广域网的通信子网主要使用分组交换技术。广域网的通信子网可以利用公用分组交换网、卫星通信网和无线分组交换网，它将分布在不同地区的局域网或计算机系统互连起来，达到资源共享的目的。如因特网（Internet）是世界范围内最大的广域网。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320154516130.png" alt="image-20230320154516130"></p><h3 id="ppp协议"><a class="anchor" href="#ppp协议">#</a> PPP 协议</h3><p>点对点协议 PPP (Point-to-Point Protocol) 是目前使用最广泛的数据链路层协议，用户使用拨号电话接入因特网时一般都使用 PPP 协议。</p><p><mark>只支持全双工链路</mark></p><p><strong>PPP 协议的三个组成部分</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320155656341.png" alt="image-20230320155656341"></p><p><strong>PPP 协议的状态图</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320155621013.png" alt="image-20230320155621013"></p><p><strong>PPP 协议的帧格式</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320155904411.png" alt="image-20230320155904411"></p><h3 id="链路层设备"><a class="anchor" href="#链路层设备">#</a> 链路层设备</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320165739250.png" alt="image-20230320165739250"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320165839205.png" alt="image-20230320165839205"></p><p><strong>网桥</strong></p><ul><li>透明网桥：“透明” 指以太网上的站点并不知道所发送的帧将经过哪几个网桥，是一种即插即用设备 —— 自学习。</li><li>源路由网桥：在发送帧时，把详细的最佳路由信息（路由最少 / 时间最短）放在帧的首部中。方法：通过源站以广播方式向欲通信的目的站发送一个发现帧。</li></ul><p><strong>多接口网桥 —— 以太网交换机</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320170316991.png" alt="image-20230320170316991"></p><ul><li>直通式交换机：查完目的地址（6B）就立刻转发。延迟小，可靠性低，无法支持具有不同速率的端口的交换。</li><li>存储转发式交换机：将帧放入高速缓存，并检查否正确，正确则转发，错误则丢弃。延迟大，可靠性高，可以支持具有不同速率的端口的交换。</li></ul><h3 id="冲突域和广播域"><a class="anchor" href="#冲突域和广播域">#</a> 冲突域和广播域</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320170606376.png" alt="image-20230320170606376"></p><h2 id="网络层"><a class="anchor" href="#网络层">#</a> 网络层</h2><p>主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务。网络层传输单位是数据报。</p><p>功能：</p><ul><li><p>路由选择与分组转发	最佳路径</p></li><li><p>异构网络互联</p></li><li><p>拥塞控制</p></li></ul><h3 id="数据交换方式"><a class="anchor" href="#数据交换方式">#</a> 数据交换方式</h3><ul><li>电路交换</li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320172214246.png" alt="image-20230320172214246"></p><ul><li>报文交换</li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320172449602.png" alt="image-20230320172449602"></p><ul><li>分组交换<ul><li>数据报方式</li><li>虚电路方式</li></ul></li></ul><p><strong>数据报方式</strong>为网络层提供无连接服务。</p><p><strong>虚电路方式</strong>为网络层提供连接服务。</p><p>无连接服务：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。</p><p>连接服务：首先为分组的传输确定传输路径（建立连接），然后沿该路径（连接）传输系列分组，系列分组传输路径相同，传输结束后拆除连接。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320172646322.png" alt="image-20230320172646322"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320173057839.png" alt="image-20230320173057839"></p><h3 id="数据报"><a class="anchor" href="#数据报">#</a> 数据报</h3><p><strong>无连接</strong>：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。</p><p><strong>每个分组携带源和目的地址</strong></p><p><strong>路由器根据分组的目的地址转发分组</strong>：基于路由协议 / 算法构建转发表；检索转发表；每个分组独立选路。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320174144644.png" alt="image-20230320174144644"></p><h3 id="tcpip协议栈"><a class="anchor" href="#tcpip协议栈">#</a> TCP/IP 协议栈</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320175524465.png" alt="image-20230320175524465"></p><h3 id="ip数据报格式"><a class="anchor" href="#ip数据报格式">#</a> IP 数据报格式</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320180333965.png" alt="image-20230320180333965"></p><h3 id="最大传送单元mtu"><a class="anchor" href="#最大传送单元mtu">#</a> 最大传送单元 MTU</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320180516842.png" alt="image-20230320180516842"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320180815607.png" alt="image-20230320180815607"></p><h3 id="分类的ip地址"><a class="anchor" href="#分类的ip地址">#</a> 分类的 IP 地址</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320184446898.png" alt="image-20230320184446898"></p><h3 id="特定ip地址"><a class="anchor" href="#特定ip地址">#</a> 特定 IP 地址</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320182319925.png" alt="image-20230320182319925"></p><h3 id="私有ip地址"><a class="anchor" href="#私有ip地址">#</a> 私有 IP 地址</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320183537156.png" alt="image-20230320183537156"></p><p>路由器对目的地址是私有 IP 地址的数据报一律不进行转发。</p><h3 id="网络地址转换nat"><a class="anchor" href="#网络地址转换nat">#</a> 网络地址转换（NAT）</h3><p>网络地址转换 NAT (Network Address Translation) ：在专用网连接到因特网的路由器上安装 NAT 软件，安装了 NAT 软件的路由器叫 NAT 路由器，它至少有一个有效的外部全球 IP 地址。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320185102545.png" alt="image-20230320185102545"></p><h3 id="子网划分"><a class="anchor" href="#子网划分">#</a> 子网划分</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320185423081.png" alt="image-20230320185423081"></p><h3 id="使用子网时分组的转发"><a class="anchor" href="#使用子网时分组的转发">#</a> 使用子网时分组的转发</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320191952615.png" alt="image-20230320191952615"></p><h3 id="无分类编址cidr-classless-inter-domain-routing"><a class="anchor" href="#无分类编址cidr-classless-inter-domain-routing">#</a> 无分类编址 CIDR (Classless Inter-Domain Routing)</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321073044452.png" alt="image-20230321073044452"></p><p><strong>构成超网</strong>：将多个子网聚合成一个较大的子网，叫做构成超网，或路由聚合。方法：将网络前缀缩短。</p><p><strong>最长前缀匹配</strong>：使用 CIDR 时，查找路由表可能得到几个匹配结果，应选择具有最长网络前缀的路由。前缀越长，地址块越小，路由越具体。</p><h3 id="arp协议"><a class="anchor" href="#arp协议">#</a> ARP 协议</h3><p>由于在实际网络的链路上传送数据帧时，最终必须使用 MAC 地址。</p><p>ARP 协议：完成主机或路由器 IP 地址到 MAC 地址的映射。	<strong>解决下一跳走哪的问题</strong></p><p>ARP 协议使用过程：检查 ARP 高速缓存，有对应表项则写入 MAC 帧，没有则用目的 MAC 地址为 FF-FF-FF-FF-FF-FF 的帧封装并广播 ARP 请求分组，同一局域网中所有主机都能收到该请求。目的主机收到请求后就会向源主机单播一个 ARP 响应分组，源主机收到后将此映射写入 ARP 缓存（10-20min 更新一次）。</p><p>ARP 协议 4 种典型情况：</p><ol><li>主机 A 发给本网络上的主机 B：用 ARP 找到主机 B 的硬件地址；</li><li>主机 A 发给另一网络上的主机 B：用 ARP 找到本网络上一个路由器（网关）的硬件地址；</li><li>路由器发给本网络的主机 A：用 ARP 找到主机 A 的硬件地址；</li><li>路由器发给另一网络的主机 B：用 ARP 找到本网络上的一个路由器的硬件地址。</li></ol><p><mark>ARP 协议自动进行</mark></p><h3 id="dhcp协议"><a class="anchor" href="#dhcp协议">#</a> DHCP 协议</h3><p>动态主机配置协议 DHCP 是应用层协议，使用客户 / 服务器方式，客户端和服务端通过广播方式进行交互，基于 UDP。DHCP 提供即插即用联网的机制，主机可以从服务器动态获取 IP 地址、子网掩码、默认网关、DNS 服务器名称与 IP 地址，允许地址重用，支持移动用户加入网络，支持在用地址续租。</p><ol><li>主机广播 DHCP 发现报文	“有没有 DHCP 服务器呀？”	试图找到网络中的服务器，服务器获得一个 IP 地址。</li><li>DHCP 服务器广播 DHCP 提供报文 “有！”&quot;有！”&quot; 有！” 服务器拟分配给主机一个 IP 地址及相关配置，先到先得。</li><li>主机广播 DHCP 请求报文 “我用你给我的 IP 地址啦？” 主机向服务器请求提供 IP 地址。</li><li>DHCP 服务器广播 DHCP 确认报文 “用吧！” 正式将 IP 地址分配给主机。</li></ol><h3 id="网际控制报文协议icmp"><a class="anchor" href="#网际控制报文协议icmp">#</a> 网际控制报文协议 ICMP</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321091953707.png" alt="image-20230321091953707"></p><p><strong>ICMP 差错报告报文（5 种）</strong></p><ol><li>终点不可达：当路由器或主机不能交付数据报时就向源点发送终点不可达报文。	无法交付</li><li>源点抑制：当路由器或主机由于拥塞而丢弃数据报时，就向源点发送源点抑制报文，使源点知道应当把数据报的发送速率放慢。 拥塞丢数据 （不再使用）</li><li>时间超过：当路由器收到生存时间 TTL=0 的数据报时，除丢弃该数据报外，还要向源点发送时间超过报文。当终点在预先规定的时间内不能收到一个数据报的全部数据报片时，就把已收到的数据报片都丢弃，并向源点发送时间超过报文。 TTL=0</li><li>参数问题：当路由器或目的主机收到的数据报的首部中有的字段的值不正确时，就丢弃该数据报，并向源点发送参数问题报文。 首部字段有问题</li><li>改变路由（重定向）：路由器把改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器（可通过更好的路由）。 值得更好的路由</li></ol><p><strong>不应发送 ICMP 差错报文的情况</strong></p><ol><li>对 ICMP 差错报告报文不再发送 ICMP 差错报告报文。</li><li>对第一个分片的数据报片的所有后续数据报片都不发送 ICMP 差错报告报文。</li><li>对具有组播地址的数据报都不发送 ICMP 差错报告报文。</li><li>对具有特殊地址（如 127.0.0.0 或 0.0.0.0）的数据报不发送 ICMP 差错报告报文。</li></ol><p><strong>ICMP 询问报文</strong></p><ol><li>回送请求和回答报文 主机或路由器向特定目的主机发出的询问，收到此报文的主机必须给源主机或路由器发送 ICMP 回送回答报文。<mark>测试目的站是否可达以及了解其相关状态。</mark></li><li>时间戳请求和回答报文 请某个主机或路由器回答当前的日期和时间。<mark>用来进行时钟同步和测量时间。</mark></li><li>掩码地址请求和回答报文 （不再使用）</li><li>路由器询问和通告报文 （不再使用）</li></ol><p><strong>ICMP 的应用</strong></p><ul><li>PING：测试两个主机之间的连通性，使用了 ICMP 回送请求和回答报文。</li><li>Traceroute：跟踪一个分组从源点到终点的路径，使用了 ICMP 时间超过差错报告报文。</li></ul><h3 id="ipv6"><a class="anchor" href="#ipv6">#</a> IPv6</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321095303414.png" alt="image-20230321095303414"></p><p><strong>IPv6 数据报格式</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321095417476.png" alt="image-20230321095417476"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321095937803.png" alt="image-20230321095937803"></p><p><strong>IPv6 和 IPv4</strong></p><ol><li>IPv6 将地址从 32 位（4B）扩大到 128 位（16B），更大的地址空间。</li><li>IPv6 将 IPv4 的校验和字段彻底移除，以减少每跳的处理时间。</li><li>IPv6 将 IPv4 的可选字段移出首部，变成了扩展首部，成为灵活的首部格式，路由器通常不对扩展首部进行检查，大大提高了路由器的处理效率。</li><li>IPv6 支持即插即用（即自动配置），不需要 DHCP 协议。</li><li>IPV6 首部长度必须是 8B 的整数倍，IPv4 首部是 4B 的整数倍。</li><li>IPv6 只能在主机处分片，IPv4 可以在路由器和主机处分片。</li><li>ICMPv6：附加报文类型 “分组过大”。</li><li>IPv6 支持资源的预分配，支持实时视像等要求，保证一定的带宽和时延的应用。</li><li>IPv6 取消了协议字段，改成下一个首部字段。</li><li>IPv6 取消了总长度字段，改用有效载荷长度字段。</li><li>IPv6 取消了服务类型字段。</li></ol><p><strong>IPv6 地址表示形式</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321100723052.png" alt="image-20230321100723052"></p><p><strong>IPv6 基本地址类型</strong></p><ul><li>单播：一对一通信	可做源地址 + 目的地址</li><li>多播：一对多通信 可做目的地址</li><li>任播：一对多中的一个通信 可做目的地址</li></ul><p><strong>IPv6 向 IPv4 过渡的策略</strong></p><ul><li>双栈协议：双协议栈技术就是指在一台设备上同时启用 IPv4 协议栈和 IPv6 协议栈。这样的话，这台设备既能和 IPv4 网络通信，又能和 IPv6 网络通信。如果这台设备是一个路由器，那么这台路由器的不同接口上，分别配置了 IPv4 地址和 IPv6 地址，并很可能分别连接了 IPv4 网络和 IPv6 网络。如果这台设备是一个计算机，那么它将同时拥有 IPv4 地址和 IPv6 地址，并具备同时处理这两个协议地址的功能。</li><li>隧道技术：通过使用互联网络的基础设施在网络之间传递数据的方式。使用隧道传递的数据（或负载）可以是不同协议的数据帧或包。隧道协议将其它协议的数据帧或包重新封装然后通过隧道发送。</li></ul><h3 id="路由算法"><a class="anchor" href="#路由算法">#</a> 路由算法</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320174409368.png" alt="image-20230320174409368"></p><p>最佳路由：“最佳” 只能是相对于某一种特定要求下得出的较为合理的选择而已。</p><h3 id="路由算法的分类"><a class="anchor" href="#路由算法的分类">#</a> 路由算法的分类</h3><p><strong>路由算法</strong></p><ul><li><p>静态路由算法（非自适应路由算法）</p><ul><li>管理员手工配置路由信息。</li><li>简便、可靠，在负荷稳定、拓扑变化不大的网络中运行效果很好，广泛用于高度安全性的军事网络和较小的商业网络。</li><li>路由更新慢，不适用大型网络。</li></ul></li><li><p>动态路由算法（自适应路由算法）</p><ul><li>路由器间彼此交换信息，按照路由算法优化出路由表项。</li><li>路由更新快，适用大型网络，及时响应链路费用或网络拓扑变化。</li><li>算法复杂，增加网络负担。</li></ul></li></ul><p><strong>动态路由算法</strong></p><ul><li>全局性 链路状态路由算法 OSPF<ul><li>所有路由器掌握完整的网络拓扑和链路费用信息。</li></ul></li><li>分散性 距离向量路由算法 RIP<ul><li>路由器只掌握物理相连的邻居及链路费用。</li></ul></li></ul><h3 id="分层次的路由选择协议"><a class="anchor" href="#分层次的路由选择协议">#</a> 分层次的路由选择协议</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230320175227172.png" alt="image-20230320175227172"></p><h3 id="rip协议routing-information-protocol"><a class="anchor" href="#rip协议routing-information-protocol">#</a> RIP 协议（Routing Information Protocol）</h3><p>RIP 是一种分布式的基于距离向量的路由选择协议，是因特网的协议标准，最大优点是简单。</p><p>RIP 协议要求网络中每一个路由器都维护从它自己到其他每一个目的网络的唯一最佳距离记录（即一组距离）。</p><p>距离：通常为 “跳数”，即从源端口到目的端口所经过的路由器个数，经过一个路由器跳数 + 1。特别的，从一路由器到直接连接的网络距离为 1。RIP 允许一条路由最多只能包含 15 个路由器，因此距离为 16 表示网络不可达。</p><p>RIP 协议只适用于小互联网。</p><p>特点：</p><ol><li>仅和相邻路由器交换信息。</li><li>路由器交换的信息是自己的路由表。</li><li>每 30 秒交换一次路由信息，然后路由器根据新信息更新路由表。若超过 180s 没收到邻居路由器的通告，则判定邻居没了，并更新自己路由表。路由器刚开始工作时，只知道直接连接的网络的距离（距离为 1），接着每一个路由器也只和数目非常有限的相邻路由器交换并更新路由信息。经过若干次更新后，所有路由器最终都会知道到达本自治系统任何一个网络的最短距离和下一跳路由器的地址，即 “收敛”。</li></ol><p><strong>距离向量算法</strong></p><ol><li><p>修改相邻路由器发来的 RIP 报文中所有表项对地址为 X 的相邻路由器发来的 RIP 报文，修改此报文中的所有项目：把 “下一跳” 字段中的地址改为 X，并把所有的 “距离” 字段 + 1。</p></li><li><p>对修改后的 RIP 报文中的每一个项目，进行以下步骤：</p><p>(1) R1 路由表中若没有 Net3，则把该项目填入 R1 路由表</p><p>(2) R1 路由表中若有 Net3，则查看下一跳路由器地址：</p><p>​ 若下一跳是 X，则用收到的项目替换源路由表中的项目；</p><p>​ 若下一跳不是 X， 原来距离比从 X 走的距离远则更新，否则不作处理。</p></li><li><p>若 180s 还没收到相邻路由器 X 的更新路由表，则把 X 记为不可达的路由器，即把距离设置为 16。</p></li><li><p>返回</p></li></ol><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321104425692.png" alt="image-20230321104425692"></p><h3 id="ospf协议open-shortest-path-first"><a class="anchor" href="#ospf协议open-shortest-path-first">#</a> OSPF 协议（Open Shortest Path First）</h3><p>开放最短路径优先 OSPF 协议：“开放” 标明 OSPF 协议不是受某一家厂商控制，而是公开发表的； “最短路径优先” 是因为使用了 Dijkstra 提出的最短路径算法 SPF。</p><p>OSPF 最主要的特征就是使用分布式的链路状态协议。</p><p>特点：</p><ol><li><p>使用洪泛法向自治系统内所有路由器发送信息，即路由器通过输出端口向所有相邻的路由器发送信息，而每一个相邻路由器又再次将此信息发往其所有的相邻路由器。	<mark>广播</mark></p><p>最终整个区域内所有路由器都得到了这个信息的一个副本。</p></li><li><p>发送的信息就是与本路由器相邻的所有路由器的链路状态（本路由器和哪些路由器相邻，以及该链路的度量 / 代价 -- 费用、距离、时延、带宽等）。</p></li><li><p>只有当链路状态发生变化时，路由器才向所有路由器洪泛发送此信息。</p></li></ol><p>最后，所有路由器都能建立一个链路状态数据库，即全网拓扑图。</p><p><strong>链路状态路由算法</strong></p><ol><li><p>每个路由器发现它的邻居结点【HELLO 问候分组】，并了解邻居节点的网络地址。</p></li><li><p>设置到它的每个邻居的成本度量 metric。</p></li><li><p>构造【DD 数据库描述分组】，向邻站给出自己的链路状态数据库中的所有链路状态项目的摘要信息。</p></li><li><p>如果 DD 分组中的摘要自己都有，则邻站不做处理；如果有没有的或者是更新的，则发送【LSR 链路状态请求分组】请求自己没有的和比自己更新的信息。</p></li><li><p>收到邻站的 LSR 分组后，发送【LSU 链路状态更新分组】进行更新。</p></li><li><p>更新完毕后，邻站返回一个【LSAck 链路状态确认分组】进行确认。</p><p>只要一个路由器的链路状态发生变化：</p></li><li><p>泛洪发送【LSU 链路状态更新分组】进行更新。</p></li><li><p>更新完毕后，其他站返回一个【LSAck 链路状态确认分组】进行确认。</p></li><li><p>使用 Dijkstra 根据自己的链路状态数据库构造到其他节点间的最短路径。</p></li></ol><p><strong>OSPF 的区域</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321110143727.png" alt="image-20230321110143727"></p><p><strong>OSPF 分组</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321110227050.png" alt="image-20230321110227050"></p><p><strong>OSPF 其他特点</strong></p><ol><li>每隔 30min，要刷新一次数据库中的链路状态。</li><li>由于一个路由器的链路状态只涉及到与相邻路由器的连通状态，因而与整个互联网的规模并无直接关系。因此当互联网规模很大时，OSPF 协议要比距离向量协议 RIP 好得多。</li><li>OSPF 不存在坏消息传的慢的问题，它的收敛速度很快。</li></ol><h3 id="bgp协议border-gateway-protocol"><a class="anchor" href="#bgp协议border-gateway-protocol">#</a> BGP 协议（Border Gateway Protocol）</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321110832743.png" alt="image-20230321110832743"></p><p><strong>BSP 协议交换信息的过程</strong>：BGP 所交换的网络可达性的信息就是要到达某个网络所要经过的一系列 AS。当 BGP 发言人互相交换了网络可达性的信息后，各 BGP 发言人就根据所采用的策略从收到的路由信息中找出到达各 AS 的较好路由。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321111150019.png" alt="image-20230321111150019"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321111237052.png" alt="image-20230321111237052"></p><p><strong>BGP 协议报文格式</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321111332108.png" alt="image-20230321111332108"></p><p>特点：</p><ul><li>BGP 支持 CIDR，因此 BGP 的路由表也就应当包括目的网络前缀、下一跳路由器，以及到达该目的网络所要经过的各个自治系统序列。</li><li>在 BGP 刚刚运行时，BGP 的邻站是交换整个的 BGP 路由表。但以后只需要在<mark>发生变化时更新有变化的部分</mark>。这样做对节省网络带宽和减少路由器的处理开销都有好处。</li></ul><p><strong>BGP-4 的四种报文</strong></p><ol><li>OPEN（打开）报文：用来与相邻的另一个 BGP 发言人建立关系，并认证发送方。</li><li>UPDATE（更新）报文：通告新路径或撤销原路径。</li><li>KEEPALIVE（保活）报文：在无 UPDATE 时，周期性证实邻站的连通性；也作为 OPEN 的确认。</li><li>NOTIFICATION（通知）报文：报告先前报文的差错；也被用于关闭连接。</li></ol><h3 id="三种路由协议比较"><a class="anchor" href="#三种路由协议比较">#</a> 三种路由协议比较</h3><ul><li><p><mark>RIP</mark> 是一种分布式的基于距离向量的内部网关路由选择协议，通过广播 UDP 报文来交换路由信息。</p></li><li><p><mark>OSPF</mark> 是一个内部网关协议，要交换的信息量较大，应使报文的长度尽量短，所以不使用传输层协议（如 UDP 或 TCP），而是直接采用 IP。</p></li><li><p><mark>BGP</mark> 是一个外部网关协议，在不同的自治系统之间交换路由信息，由于网络环境复杂，需要保证可靠传输，所以采用 TCP。</p></li></ul><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321112319662.png" alt="image-20230321112319662"></p><h3 id="ip数据报的三种传输方式"><a class="anchor" href="#ip数据报的三种传输方式">#</a> IP 数据报的三种传输方式</h3><p>单播：单播用于发送数据包到单个目的地，且每发送一份单播报文都使用一个单播 IP 地址作为目的地址。是一种点对点传输方式。</p><p>广播：广播是指发送数据包到同一广播域或子网内的所有设备的一种数据传输方式，是一种点对多点传输方式。</p><p>组播（多播）：当网络中的某些用户需要特定数据时，组播数据发送者仅发送一次数据，借助组播路由协议为组播数据包建立组播分发树，被传递的数据到达距离用户端尽可能近的节点后才开始复制和分发，是一种点对多点传输方式。</p><h3 id="ip组播地址"><a class="anchor" href="#ip组播地址">#</a> IP 组播地址</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321113258069.png" alt="image-20230321113258069"></p><p><strong>硬件组播</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321114307110.png" alt="image-20230321114307110"></p><h3 id="网际组管理协议igmp"><a class="anchor" href="#网际组管理协议igmp">#</a> 网际组管理协议 IGMP</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321114434106.png" alt="image-20230321114434106"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321114528538.png" alt="image-20230321114528538"></p><h3 id="组播路由选择协议"><a class="anchor" href="#组播路由选择协议">#</a> 组播路由选择协议</h3><p>组播路由协议目的是找出以源主机为根节点的组播转发树。</p><p>构造树可以避免在路由器之间兜圈子。</p><p>对不同的多播组对应于不同的多播转发树；同一个多播组，对不同的源点也会有不同的多播转发树。</p><p>组播路由选择协议常使用的三种算法：</p><ul><li>基于链路状态的路由选择</li><li>基于距离 - 向量的路由选择</li><li>协议无关的组播（稀疏 / 密集）</li></ul><h3 id="移动ip"><a class="anchor" href="#移动ip">#</a> 移动 IP</h3><p>移动 IP 技术是移动结点（计算机 / 服务器等）以固定的网络 IP 地址，实现跨越不同网段的漫游功能，并保证了基于网络 IP 的网络权限在漫游过程中不发生任何改变。</p><p>移动结点：具有永久 IP 地址的移动设备。</p><p>归属代理（本地代理）：一个移动结点拥有的就 “居所” 称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体叫做归属代理。</p><p>外部代理（外地代理）：在外部网络中帮助移动节点完成移动管理功能的实体称为外部代理。</p><p>永久地址（归属地址 / 主地址）：移动站点在归属网络中的原始地址。</p><p>转交地址（辅地址）：移动站点在外部网络使用的临时地址。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321115257171.png" alt="image-20230321115257171"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321115339690.png" alt="image-20230321115339690"></p><h3 id="路由器"><a class="anchor" href="#路由器">#</a> 路由器</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321115514492.png" alt="image-20230321115514492"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321115639286.png" alt="image-20230321115639286"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321115728647.png" alt="image-20230321115728647"></p><h3 id="三层设备的区别"><a class="anchor" href="#三层设备的区别">#</a> 三层设备的区别</h3><p>路由器：可以互联两个不同网络层协议的网段。</p><p>网桥：可以互联两个物理层和链路层不同的网段。</p><p>集线器：不能互联两个物理层不同的网段。</p><h3 id="路由表与路由转发"><a class="anchor" href="#路由表与路由转发">#</a> 路由表与路由转发</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321120111755.png" alt="image-20230321120111755"></p><h2 id="传输层"><a class="anchor" href="#传输层">#</a> 传输层</h2><p>传输层的功能：</p><ol><li>传输层提供进程和进程之间的逻辑通信。</li><li>复用和分用</li><li>传输层对收到的报文进行差错检测。</li><li>传输层的两种协议。</li></ol><p>面向连接的传输控制协议 TCP：传送数据之前必须建立连接，数据传送结束后要释放连接。不提供广播或多播服务。由于 TCP 要提供可靠的面向连接的传输服务，因此不可避免增加了许多开销：确认、流量控制、计时器及连接管理等。</p><p><mark>可靠，面向连接，时延大，适用于大文件。</mark></p><p>无连接的用户数据报协议 UDP：传送数据之前不需要建立连接，收到 UDP 报文后也不需要给出任何确认。</p><p><mark>不可靠，无连接，时延小，适用于小文件。</mark></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321140212225.png" alt="image-20230321140212225"></p><p>在网络中采用发送方和接收方的套接字组合来识别端点，套接字唯一标识了网络中的一个主机和它上面的一个进程。</p><p><mark>套接字 Socket = (主机 IP 地址，端口号)</mark></p><h3 id="用户数据报协议udp"><a class="anchor" href="#用户数据报协议udp">#</a> 用户数据报协议 UDP</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321140631868.png" alt="image-20230321140631868"></p><h3 id="udp首部格式"><a class="anchor" href="#udp首部格式">#</a> UDP 首部格式</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321140945683.png" alt="image-20230321140945683"></p><h3 id="udp校验"><a class="anchor" href="#udp校验">#</a> UDP 校验</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321141225659.png" alt="image-20230321141225659"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321141607687.png" alt="image-20230321141607687"></p><h3 id="tcp协议"><a class="anchor" href="#tcp协议">#</a> TCP 协议</h3><ol><li><p>TCP 是面向连接（虚连接）的传输层协议。	打 call</p></li><li><p>每一条 TCP 连接只能有两个端点，每一条 TCP 连接只能是点对点的。</p></li><li><p>TCP 提供可靠交付的服务，无差错、不丢失、不重复、按序到达。 <mark>可靠有序，不丢不重</mark></p></li><li><p>TCP 提供全双工通信。</p><p>发送缓存：准备发送的数据 &amp; 已发送但尚未收到确认的数据</p><p>接收缓存：按序到达但尚未被接受应用程序读取的数据 &amp; 不按序到达的数据</p></li><li><p>TCP 面向字节流：TCP 把应用程序交下来的数据看成仅仅是一连串的<mark>无结构的字节流</mark>。</p></li></ol><p>流：流入到进程或从进程流出的字节序列。</p><p><strong>TCP 报文段首部格式</strong></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321142651436.png" alt="image-20230321142651436"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321143037797.png" alt="image-20230321143037797"></p><h3 id="tcp连接管理"><a class="anchor" href="#tcp连接管理">#</a> TCP 连接管理</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321143212645.png" alt="image-20230321143212645"></p><p>TCP 连接的建立采用客户服务器方式，主动发起连接建立的应用进程叫做客户，而被动等待连接建立的应用进程叫服务器。</p><h3 id="tcp的连接建立"><a class="anchor" href="#tcp的连接建立">#</a> TCP 的连接建立</h3><p>假设运行在一台主机（客户）上的一个进程想与另一台主机（服务器）上的一个进程建立一条连接，客户应用进程首先通知客户 TCP，他想建立一个与服务器上某个进程之间的连接，客户中的 TCP 会用以下步骤与服务器中的 TCP 建立一条 TCP 连接：</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321143755755.png" alt="image-20230321143755755"></p><h3 id="syn洪泛攻击"><a class="anchor" href="#syn洪泛攻击">#</a> SYN 洪泛攻击</h3><p>SYN 洪泛攻击发生在 OSI 第四层，这种方式利用 TCP 协议的特性，就是三次握手。攻击者发送 TCP SYN，SYN 是 TCP 三次握手中的第一个数据包，而当服务器返回 ACK 后，该攻击者就不对其进行再确认，那这个 TCP 连接就处于挂起状态，也就是所谓的半连接状态，服务器收不到再确认的话，还会重复发送 ACK 给攻击者。这样更加会浪费服务器的资源。攻击者就对服务器发送非常大量的这种 TCP 连接，由于每一个都没法完成三次握手，所以在服务器上，这些 TCP 连接会因为挂起状态而消耗 CPU 和内存，最后服务器可能死机，就无法为正常用户提供服务了。</p><h3 id="tcp的连接释放"><a class="anchor" href="#tcp的连接释放">#</a> TCP 的连接释放</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321144309722.png" alt="image-20230321144309722"></p><h3 id="tcp的可靠传输"><a class="anchor" href="#tcp的可靠传输">#</a> TCP 的可靠传输</h3><p>可靠：保证接收方进程从缓存区读出的字节流与发送方发出的字节流是完全一样的。</p><p>TCP 实现可靠传输的机制：</p><ol><li>校验：与 UDP 校验一样，增加伪首部</li><li>序号</li><li>确认</li><li>重传</li></ol><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321145354919.png" alt="image-20230321145354919"></p><h3 id="tcp流量控制"><a class="anchor" href="#tcp流量控制">#</a> TCP 流量控制</h3><p>流量控制：让发送方慢点，要让接收方来得及接收。</p><p>TCP 利用滑动窗口机制实现流量控制。</p><p>在通信过程中，接收方根据自己接收缓存的大小，动态地调整发送方的发送窗口大小，即接收窗口 rwnd（接收方设置确认报文段的窗口字段来将 rwnd 通知给发送方），发送方的发送窗口取接收窗口 rwnd 和拥塞窗口 cwnd 的最小值。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321150702057.png" alt="image-20230321150702057"></p><h3 id="tcp拥塞控制"><a class="anchor" href="#tcp拥塞控制">#</a> TCP 拥塞控制</h3><p>出现拥塞的条件：</p><p>​ 对资源需求的总和 &gt; 可用资源</p><p>网络中有许多资源同时呈现供应不足➡️网络性能变坏➡️网络吞吐量将随输入负荷增大而下降</p><p>拥塞控制：防止过多的数据注入到网络中。	<mark>全局性</mark></p><p><strong>拥塞控制的四种算法</strong></p><ul><li>慢开始</li><li>拥塞避免</li><li>快重传</li><li>快恢复</li></ul><p>假定：</p><ol><li>数据单方向传送，而另一个方向只传送确认</li><li>接收方总是有足够大的缓存空间，因而发送窗口大小取决于拥塞程度</li></ol><p 接收窗口rwnd，拥塞窗口cwnd="">发送窗口 = Min</p><p>接收窗口：<strong>接收方</strong>根据接受缓存设置的值，并告知给发送方，反映接收方容量。</p><p>拥塞窗口：<strong>发送方</strong>根据自己估算的网络拥塞程度而设置的窗口值，反映网络当前容量。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321152231442.png" alt="image-20230321152231442"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321152454586.png" alt="image-20230321152454586"></p><h2 id="应用层"><a class="anchor" href="#应用层">#</a> 应用层</h2><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321152855904.png" alt="image-20230321152855904"></p><h3 id="网络应用模型"><a class="anchor" href="#网络应用模型">#</a> 网络应用模型</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321153455901.png" alt="image-20230321153455901"></p><ul><li>客户 / 服务器模型（Client/Server）</li></ul><p>服务器：提供计算服务的设备。</p><ol><li>永久提供服务</li><li>永久性访问地址 / 域名</li></ol><p>客户机：请求计算服务的主机。</p><ol><li>与服务器通信，使用服务器提供的服务</li><li>间歇性接入网络</li><li>可能使用动态 IP 地址</li><li>不与其他客户机直接通信</li></ol><p>应用：Web，文件传输 FTP，远程登录，电子邮件</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321153525357.png" alt="image-20230321153525357"></p><ul><li>P2P 模型（Peer-to-peer）<ul><li>不存在永远在线的服务器</li><li>每个主机既可以提供服务，也可以请求服务</li><li>任意端系统 / 节点之间可以直接通讯</li><li>节点间歇性接入网络</li><li>节点可能改变 IP 地址</li><li>可扩展性好</li><li>网络健壮性强</li></ul></li></ul><h3 id="域名解析系统dns"><a class="anchor" href="#域名解析系统dns">#</a> 域名解析系统 DNS</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321154425285.png" alt="image-20230321154425285"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321155009576.png" alt="image-20230321155009576"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321155417651.png" alt="image-20230321155417651"></p><h3 id="文件传输协议ftp"><a class="anchor" href="#文件传输协议ftp">#</a> 文件传输协议 FTP</h3><ul><li>文件传送协议 FTP（File Transfer Protocol）：提供不同种类主机系统（硬、软件体系等都可以不同）之间的文件传输能力。</li><li>简单文件传送协议 TFTP（Trivial File Transfer Protocol）</li></ul><p>FTP 是基于客户 / 服务器 (C/S) 的协议。</p><p>用户通过一个客户机程序连接至在远程计算机上运行的服务器程序。</p><p>依照 FTP 协议提供服务，进行文件传送的计算机就是 FTP 服务器。</p><p>连接 FTP 服务器，遵循 FTP 协议与服务器传送文件的电脑就是 FTP 客户端。</p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321160156997.png" alt="image-20230321160156997"></p><h3 id="ftp工作原理"><a class="anchor" href="#ftp工作原理">#</a> FTP 工作原理</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321160455157.png" alt="image-20230321160455157"></p><p>FTP 传输模式：</p><ul><li>文本模式：ASCII 模式，以文本序列传输数据；</li><li>二进制模式：Binary 模式，以二进制序列传输数据。</li></ul><h3 id="电子邮件"><a class="anchor" href="#电子邮件">#</a> 电子邮件</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321160849680.png" alt="image-20230321160849680"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321161210493.png" alt="image-20230321161210493"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321161420898.png" alt="image-20230321161420898"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321161511636.png" alt="image-20230321161511636"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321161646051.png" alt="image-20230321161646051"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321161728535.png" alt="image-20230321161728535"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321161809932.png" alt="image-20230321161809932"></p><h3 id="万维网和http协议"><a class="anchor" href="#万维网和http协议">#</a> 万维网和 HTTP 协议</h3><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162041502.png" alt="image-20230321162041502"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162210153.png" alt="image-20230321162210153"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162311695.png" alt="image-20230321162311695"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162430860.png" alt="image-20230321162430860"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162509196.png" alt="image-20230321162509196"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162604589.png" alt="image-20230321162604589"></p><p><img data-src="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20230321162727221.png" alt="image-20230321162727221"></p><div class="tags"><a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"><i class="ic i-tag"></i> 学习笔记</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2023-03-23 08:54:29" itemprop="dateModified" datetime="2023-03-23T08:54:29+08:00">2023-03-23</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Sakupinera WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="Sakupinera Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="Sakupinera PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Sakupinera <i class="ic i-at"><em>@</em></i>Sakupinera</li><li class="link"><strong>Post link: </strong><a href="http://sakupinera.github.io/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="计算机网络">http://sakupinera.github.io/2023/03/21/network/计算机网络/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/03/20/cpp/design-patterns/Design%20Patterns/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2023&#x2F;03&#x2F;08&#x2F;W1a6ViLoBQPTj2C.jpg" title="设计模式（Design Patterns）"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> Design-Patterns</span><h3>设计模式（Design Patterns）</h3></a></div><div class="item right"><a href="/2023/08/20/computer-graphics/games101/%E9%A2%9C%E8%89%B2%E4%B8%8E%E6%84%9F%E7%9F%A5/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2023&#x2F;03&#x2F;08&#x2F;mOQfkxXNYp8VGng.png" title="GAMES101 - Color and Perception（颜色与感知）"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> GAMES101</span><h3>GAMES101 - Color and Perception（颜色与感知）</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="toc-number">1.</span> <span class="toc-text">计算机网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.2.</span> <span class="toc-text">计算机网络的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E8%B7%AF%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.1.3.</span> <span class="toc-text">计算机网路的组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.4.</span> <span class="toc-text">计算机网络的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9F%E7%8E%87"><span class="toc-number">1.1.5.</span> <span class="toc-text">速率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD"><span class="toc-number">1.1.6.</span> <span class="toc-text">带宽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.1.7.</span> <span class="toc-text">吞吐量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6"><span class="toc-number">1.1.8.</span> <span class="toc-text">时延</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF"><span class="toc-number">1.1.9.</span> <span class="toc-text">时延带宽积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%80%E8%BF%94%E6%97%B6%E5%BB%B6rtt"><span class="toc-number">1.1.10.</span> <span class="toc-text">往返时延 RTT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.1.11.</span> <span class="toc-text">利用率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isoosi%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.12.</span> <span class="toc-text">ISO&#x2F;OSI 参考模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.2.</span> <span class="toc-text">物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">两种数据的传输方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%88%E6%B0%8F%E5%87%86%E5%88%99%E5%A5%88%E5%A5%8E%E6%96%AF%E7%89%B9%E5%AE%9A%E7%90%86"><span class="toc-number">1.2.2.</span> <span class="toc-text">奈氏准则（奈奎斯特定理）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%99%E5%86%9C%E5%AE%9A%E7%90%86"><span class="toc-number">1.2.3.</span> <span class="toc-text">香农定理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E5%B8%A6%E4%BF%A1%E5%8F%B7%E4%B8%8E%E5%AE%BD%E5%B8%A6%E4%BF%A1%E5%8F%B7"><span class="toc-number">1.2.4.</span> <span class="toc-text">基带信号与宽带信号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.3.</span> <span class="toc-text">数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%8A%9F%E8%83%BD%E6%A6%82%E8%BF%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">数据链路层功能概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="toc-number">1.3.2.</span> <span class="toc-text">封装成帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="toc-number">1.3.3.</span> <span class="toc-text">透明传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.4.</span> <span class="toc-text">检错编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.5.</span> <span class="toc-text">纠错编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E7%9A%84%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.6.</span> <span class="toc-text">链路层的流量控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">流量控制的方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE%E4%BD%BF%E7%94%A8%E7%9A%84%E4%B8%A4%E7%A7%8D%E9%93%BE%E8%B7%AF"><span class="toc-number">1.3.7.</span> <span class="toc-text">传输数据使用的两种链路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.8.</span> <span class="toc-text">介质访问控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A4%E7%89%8C%E4%BC%A0%E9%80%92%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.9.</span> <span class="toc-text">令牌传递协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#csma%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.10.</span> <span class="toc-text">CSMA 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#csmacd%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.11.</span> <span class="toc-text">CSMA&#x2F;CD 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#csmaca%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.12.</span> <span class="toc-text">CSMA&#x2F;CA 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">1.3.13.</span> <span class="toc-text">局域网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ieee-802%E6%A0%87%E5%87%86"><span class="toc-number">1.3.14.</span> <span class="toc-text">IEEE 802 标准</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">1.3.15.</span> <span class="toc-text">以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10base-t%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">1.3.16.</span> <span class="toc-text">10BASE-T 以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E4%B8%8Emac%E5%9C%B0%E5%9D%80"><span class="toc-number">1.3.17.</span> <span class="toc-text">适配器与 MAC 地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91mac%E5%B8%A7"><span class="toc-number">1.3.18.</span> <span class="toc-text">以太网 MAC 帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">1.3.19.</span> <span class="toc-text">高速以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E5%9F%9F%E7%BD%91"><span class="toc-number">1.3.20.</span> <span class="toc-text">广域网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ppp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.21.</span> <span class="toc-text">PPP 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.3.22.</span> <span class="toc-text">链路层设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E5%9F%9F%E5%92%8C%E5%B9%BF%E6%92%AD%E5%9F%9F"><span class="toc-number">1.3.23.</span> <span class="toc-text">冲突域和广播域</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.4.</span> <span class="toc-text">网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">数据交换方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="toc-number">1.4.2.</span> <span class="toc-text">数据报</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcpip%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">1.4.3.</span> <span class="toc-text">TCP&#x2F;IP 协议栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ip%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.4.4.</span> <span class="toc-text">IP 数据报格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%A4%A7%E4%BC%A0%E9%80%81%E5%8D%95%E5%85%83mtu"><span class="toc-number">1.4.5.</span> <span class="toc-text">最大传送单元 MTU</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84ip%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.6.</span> <span class="toc-text">分类的 IP 地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E5%AE%9Aip%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.7.</span> <span class="toc-text">特定 IP 地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89ip%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.8.</span> <span class="toc-text">私有 IP 地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2nat"><span class="toc-number">1.4.9.</span> <span class="toc-text">网络地址转换（NAT）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="toc-number">1.4.10.</span> <span class="toc-text">子网划分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E7%BD%91%E6%97%B6%E5%88%86%E7%BB%84%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">1.4.11.</span> <span class="toc-text">使用子网时分组的转发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80cidr-classless-inter-domain-routing"><span class="toc-number">1.4.12.</span> <span class="toc-text">无分类编址 CIDR (Classless Inter-Domain Routing)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.13.</span> <span class="toc-text">ARP 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dhcp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.14.</span> <span class="toc-text">DHCP 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AEicmp"><span class="toc-number">1.4.15.</span> <span class="toc-text">网际控制报文协议 ICMP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ipv6"><span class="toc-number">1.4.16.</span> <span class="toc-text">IPv6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">1.4.17.</span> <span class="toc-text">路由算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.4.18.</span> <span class="toc-text">路由算法的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E6%AC%A1%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.19.</span> <span class="toc-text">分层次的路由选择协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rip%E5%8D%8F%E8%AE%AErouting-information-protocol"><span class="toc-number">1.4.20.</span> <span class="toc-text">RIP 协议（Routing Information Protocol）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf%E5%8D%8F%E8%AE%AEopen-shortest-path-first"><span class="toc-number">1.4.21.</span> <span class="toc-text">OSPF 协议（Open Shortest Path First）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bgp%E5%8D%8F%E8%AE%AEborder-gateway-protocol"><span class="toc-number">1.4.22.</span> <span class="toc-text">BGP 协议（Border Gateway Protocol）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E6%AF%94%E8%BE%83"><span class="toc-number">1.4.23.</span> <span class="toc-text">三种路由协议比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ip%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E4%B8%89%E7%A7%8D%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.24.</span> <span class="toc-text">IP 数据报的三种传输方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ip%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.25.</span> <span class="toc-text">IP 组播地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AEigmp"><span class="toc-number">1.4.26.</span> <span class="toc-text">网际组管理协议 IGMP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.27.</span> <span class="toc-text">组播路由选择协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8ip"><span class="toc-number">1.4.28.</span> <span class="toc-text">移动 IP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-number">1.4.29.</span> <span class="toc-text">路由器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E8%AE%BE%E5%A4%87%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.4.30.</span> <span class="toc-text">三层设备的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%A1%A8%E4%B8%8E%E8%B7%AF%E7%94%B1%E8%BD%AC%E5%8F%91"><span class="toc-number">1.4.31.</span> <span class="toc-text">路由表与路由转发</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">1.5.</span> <span class="toc-text">传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AEudp"><span class="toc-number">1.5.1.</span> <span class="toc-text">用户数据报协议 UDP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#udp%E9%A6%96%E9%83%A8%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">UDP 首部格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#udp%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.5.3.</span> <span class="toc-text">UDP 校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.5.4.</span> <span class="toc-text">TCP 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-number">1.5.5.</span> <span class="toc-text">TCP 连接管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E7%9A%84%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B"><span class="toc-number">1.5.6.</span> <span class="toc-text">TCP 的连接建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#syn%E6%B4%AA%E6%B3%9B%E6%94%BB%E5%87%BB"><span class="toc-number">1.5.7.</span> <span class="toc-text">SYN 洪泛攻击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E7%9A%84%E8%BF%9E%E6%8E%A5%E9%87%8A%E6%94%BE"><span class="toc-number">1.5.8.</span> <span class="toc-text">TCP 的连接释放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E7%9A%84%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">1.5.9.</span> <span class="toc-text">TCP 的可靠传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.10.</span> <span class="toc-text">TCP 流量控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.11.</span> <span class="toc-text">TCP 拥塞控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">1.6.</span> <span class="toc-text">应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text">网络应用模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9Fdns"><span class="toc-number">1.6.2.</span> <span class="toc-text">域名解析系统 DNS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AEftp"><span class="toc-number">1.6.3.</span> <span class="toc-text">文件传输协议 FTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ftp%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.4.</span> <span class="toc-text">FTP 工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">1.6.5.</span> <span class="toc-text">电子邮件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E7%BB%B4%E7%BD%91%E5%92%8Chttp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.6.</span> <span class="toc-text">万维网和 HTTP 协议</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li class="active"><a href="/2023/03/21/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="bookmark" title="计算机网络">计算机网络</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Sakupinera" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Sakupinera</p><div class="description" itemprop="description">保持你的决心！</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">86</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">13</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">6</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Nha3VwaW5lcmE=" title="https:&#x2F;&#x2F;github.com&#x2F;sakupinera"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9zYWt1cGluZXJh" title="https:&#x2F;&#x2F;twitter.com&#x2F;sakupinera"><i class="ic i-twitter"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTQwNzIyOTA3MQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;407229071"><i class="ic i-cloud-music"></i></span> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMjIzMDczOTg/c3BtX2lkX2Zyb209MzMzLjEwMDcuMC4w" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;22307398?spm_id_from&#x3D;333.1007.0.0"><i class="ic i-bilibili"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/games/" rel="section"><i class="ic i-flag"></i>Games</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-person"></i>About</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/03/20/cpp/design-patterns/Design%20Patterns/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/08/20/computer-graphics/games101/%E9%A2%9C%E8%89%B2%E4%B8%8E%E6%84%9F%E7%9F%A5/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/10/24/csharp/clr-via-csharp/Chapter%207%20Constants%20and%20Fields/" title="CLR via C# - Chapter 7 Constants and Fields">CLR via C# - Chapter 7 Constants and Fields</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Cpp/" title="In Cpp">Cpp</a> <i class="ic i-angle-right"></i> <a href="/categories/Cpp/Cpp-Primer/" title="In Cpp-Primer">Cpp-Primer</a></div><span><a href="/2022/12/15/cpp/cpp-primer/Chapter%207%20Classes/" title="C++ Primer - Chapter 7 Classes">C++ Primer - Chapter 7 Classes</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/08/28/csharp/clr-via-csharp/Chapter%202%20Building,%20Packaging,%20Deploying,%20and%20Administering%20Applications%20and%20Types/" title="CLR via C# - Chapter 2 Building, Packaging, Deploying, and Administering Applications and Types">CLR via C# - Chapter 2 Building, Packaging, Deploying, and Administering Applications and Types</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Cpp/" title="In Cpp">Cpp</a> <i class="ic i-angle-right"></i> <a href="/categories/Cpp/Cpp-Primer/" title="In Cpp-Primer">Cpp-Primer</a></div><span><a href="/2023/01/10/cpp/cpp-primer/Chapter%2018%20Tools%20for%20Large%20Programs/" title="C++ Primer - Chapter 18 Tools for Large Programs">C++ Primer - Chapter 18 Tools for Large Programs</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CSharp-in-a-Nutshell/" title="In CSharp-in-a-Nutshell">CSharp-in-a-Nutshell</a></div><span><a href="/2022/09/04/csharp/csharp-in-a-nutshell/%E7%AC%AC14%E7%AB%A0%20%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%BC%82%E6%AD%A5/" title="C# in a Nutshell - 第14章 并发与异步">C# in a Nutshell - 第14章 并发与异步</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Cpp/" title="In Cpp">Cpp</a> <i class="ic i-angle-right"></i> <a href="/categories/Cpp/Cpp-Primer/" title="In Cpp-Primer">Cpp-Primer</a></div><span><a href="/2022/12/12/cpp/cpp-primer/Chapter%204%20Expressions/" title="C++ Primer - Chapter 4 Expressions">C++ Primer - Chapter 4 Expressions</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2023/02/08/csharp/clr-via-csharp/Chapter%2028%20IO-Bound%20Asynchronous%20Operations/" title="CLR via C# - Chapter 28 IO-Bound Asynchronous Operations">CLR via C# - Chapter 28 IO-Bound Asynchronous Operations</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CSharp-in-a-Nutshell/" title="In CSharp-in-a-Nutshell">CSharp-in-a-Nutshell</a></div><span><a href="/2022/08/29/csharp/csharp-in-a-nutshell/%E7%AC%AC3%E7%AB%A0%20%E5%9C%A8CSharp%E4%B8%AD%E5%88%9B%E5%BB%BA%E7%B1%BB%E5%9E%8B/" title="C# in a Nutshell - 第3章 在C#中创建类型">C# in a Nutshell - 第3章 在C#中创建类型</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/08/28/csharp/clr-via-csharp/Chapter%203%20Shared%20Assemblies%20and%20Strongly%20Named%20Assemblies/" title="CLR via C# - Chapter 3 Shared Assemblies and Strongly Named Assemblies">CLR via C# - Chapter 3 Shared Assemblies and Strongly Named Assemblies</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="In CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CLR-via-CSharp/" title="In CLR-via-CSharp">CLR-via-CSharp</a></div><span><a href="/2022/10/27/csharp/clr-via-csharp/Chapter%209%20Parameters/" title="CLR via C# - Chapter 9 Parameters">CLR via C# - Chapter 9 Parameters</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Sakupinera @ Hanamai Sora</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">2.2m words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">33:30</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/03/21/network/计算机网络/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/assets/shifuku.model.json"},display:{position:"left",width:250,height:500},mobile:{show:!1},react:{opacity:.9},log:!1})</script></body></html>